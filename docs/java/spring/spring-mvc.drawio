<mxfile host="Electron" modified="2024-04-26T10:02:09.873Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.6.5 Chrome/114.0.5735.243 Electron/25.3.1 Safari/537.36" etag="uLqDeL2MpU9n4U69naC0" version="21.6.5" type="device">
  <diagram id="x16DxMH52ZZ0JIulP3oG" name="第 1 页">
    <mxGraphModel dx="3931" dy="977" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-111" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;dashed=1;" parent="1" source="zBgl8oiuq0UGZxk494lT-2" target="zBgl8oiuq0UGZxk494lT-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-407" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="zBgl8oiuq0UGZxk494lT-2" target="Yp-SRrxAVPVsKjN0fyP4-406" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-2" value="服务启动阶段&lt;br&gt;请求处理组件初始化" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="40" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;" parent="1" source="zBgl8oiuq0UGZxk494lT-3" target="zBgl8oiuq0UGZxk494lT-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-3" value="请求处理流程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="40" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-4" value="&lt;h1 style=&quot;font-size: 20px&quot;&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;Spring MVC 工作原理流程&lt;/font&gt;&lt;/h1&gt;&lt;div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;font style=&quot;font-size: 15px&quot;&gt;version: 5.3.26&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;看源码可能会发现和一些资料的内容有出入，主要是版本差异。&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="270" height="100" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-5" value="&lt;p style=&quot;line-height: 0&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;前置知识：&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;ul style=&quot;font-size: 10px&quot;&gt;&lt;li&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;了解Tomcat的工作原理（连接器＋容器），请求通过Tomcat服务端口是怎么一步步走到Servlet处理的。&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;研究目标：&lt;br&gt;&lt;/font&gt;&lt;ul style=&quot;font-size: 10px&quot;&gt;&lt;li&gt;&lt;span&gt;@Controller 和 @RequestMapping 工作原理，启动阶段做了什么？&lt;/span&gt;&lt;/li&gt;&lt;li&gt;请求传参到接口的几种方式和原理？&lt;/li&gt;&lt;li&gt;过滤器和拦截器的注册和工作原理？&lt;/li&gt;&lt;li&gt;响应的返回值的处理原理？@RequestBody @ResponseBody 原理？&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;总结：&lt;br&gt;&lt;/font&gt;&lt;ul style=&quot;font-size: 10px&quot;&gt;&lt;li&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;Spring MVC 的工作主要就是对Servlet工作的细化（将Servlet拆分成前端控制器&lt;b&gt;DispatcherServlet&lt;/b&gt;、处理器映射器&lt;b&gt;HandlerMapping&lt;/b&gt;、处理器适配器&lt;b&gt;HandlerAdapter&lt;/b&gt;、后端处理器&lt;b&gt;Controller&lt;/b&gt;、视图解析器&lt;b&gt;ViewResolver&lt;/b&gt;）。&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;Tomcat 通过 &lt;b&gt;HttpServlet&lt;/b&gt;&amp;nbsp;实现类 &lt;b&gt;DispatchServlet &lt;/b&gt;将请求交接给 Spring MVC。&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;注意 Inteceptor 是 spring-core 实现的（基于切面），不是spring-mvc 实现的。&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="280" y="10" width="600" height="150" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="zBgl8oiuq0UGZxk494lT-6" target="eXKHKXfQXdhzo-oVxrPX-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-6" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;ApplicationFilterChain&lt;/b&gt;#&lt;br&gt;internalDoFilter()&lt;br&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;Tomcat的过滤器执行完毕后将请求交给 &lt;b&gt;DispatcherServlet (继承HttpServlet)&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="200" y="475" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-8" value="&lt;font color=&quot;#007fff&quot;&gt;Tomcat&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="255" y="450" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zBgl8oiuq0UGZxk494lT-9" value="从Tomcat 接收到请求到这一步经过了Tomcat复杂的处理流程&lt;br&gt;connector -&amp;gt; processor -&amp;gt; valve -&amp;gt; filter链 -&amp;gt; DispatcherServlet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="200" y="560" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-2" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;&lt;font color=&quot;#330000&quot;&gt;ApplicationFilterChain &lt;/font&gt;（Tomcat的过滤器链）&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static final ThreadLocal&amp;lt;ServletRequest&amp;gt; lastServicedRequest;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static final ThreadLocal&amp;lt;ServletResponse&amp;gt; lastServicedResponse;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//Tomcat过滤器链配置&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private ApplicationFilterConfig[] &lt;b&gt;filters&lt;/b&gt; = new ApplicationFilterConfig[0];&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//当前执行到的过滤器位置&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private int &lt;b&gt;pos&lt;/b&gt; = 0;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//过滤器链中过滤器个数&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private int &lt;b&gt;n&lt;/b&gt; = 0;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//对于SpringMVC即DispatcherServlet&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private Servlet &lt;b&gt;servlet&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean servletSupportsAsync = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//ApplicationFilterChain即Tomcat的过滤器链，在SpringMVC中自定义的过滤器最终也是注册到这个过滤器链&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static final StringManager &lt;b&gt;sm&lt;/b&gt; = StringManager.getManager(ApplicationFilterChain.class);&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static final Class&amp;lt;?&amp;gt;[] classType = new Class[] { ServletRequest.class, ServletResponse.class,&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; FilterChain.class };&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static final Class&amp;lt;?&amp;gt;[] classTypeUsedInService = new Class[] { ServletRequest.class,&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; ServletResponse.class };&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;public void &lt;b&gt;doFilter&lt;/b&gt;(ServletRequest request, ServletResponse response)&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-600" y="160" width="560" height="300" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-3" target="eXKHKXfQXdhzo-oVxrPX-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-3" value="&lt;font style=&quot;font-size: 10px&quot;&gt;HttpMethod httpMethod = HttpMethod.&lt;b&gt;resolve&lt;/b&gt;(request.getMethod())&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;查看原始请求 coyoteRequest 获取请求类型&lt;/font&gt;&amp;nbsp;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="400" y="480" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-5" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HttpServlet&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;//继承自 GenericServlet&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private transient ServletConfig config;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-380" y="500" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-11" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=11;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-6" target="eXKHKXfQXdhzo-oVxrPX-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-278" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-6" target="Yp-SRrxAVPVsKjN0fyP4-276" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-279" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-6" target="Yp-SRrxAVPVsKjN0fyP4-216" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-6" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;DispatcherServlet&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private static Properties defaultStrategies;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean detectAllHandlerMappings = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean detectAllHandlerAdapters = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean detectAllHandlerExceptionResolvers = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean detectAllViewResolvers = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean throwExceptionIfNoHandlerFound = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean cleanupAfterInclude = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private MultipartResolver multipartResolver;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private LocaleResolver localeResolver;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private ThemeResolver themeResolver;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot; color=&quot;#007fff&quot;&gt;//处理器映射列表，用于查找并生成请求对应的HandlerExecutionChain，支持多种映射类型，&lt;br&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;比如 RequestMappingHandlerMapping、SimpleUrlHandlerMapping 等等&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private List&amp;lt;HandlerMapping&amp;gt; &lt;b&gt;handlerMappings&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot; color=&quot;#007fff&quot;&gt;//处理器适配器&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private List&amp;lt;HandlerAdapter&amp;gt; &lt;b&gt;handlerAdapters&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot; color=&quot;#007fff&quot;&gt;//请求异常处理器&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private List&amp;lt;HandlerExceptionResolver&amp;gt; handlerExceptionResolvers;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private RequestToViewNameTranslator viewNameTranslator;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private FlashMapManager flashMapManager;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private List&amp;lt;ViewResolver&amp;gt; viewResolvers;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean parseRequestPath;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-480" y="1040" width="440" height="310" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-10" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-7" target="eXKHKXfQXdhzo-oVxrPX-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-7" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;FrameworkServlet&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private String namespace;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private String contextConfigLocation;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final List&amp;lt;ApplicationContextInitializer&amp;lt;ConfigurableApplicationContext&amp;gt;&amp;gt;&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; &amp;nbsp; contextInitializers = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private String contextInitializerClasses;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean publishContext = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean publishEvents = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean threadContextInheritable = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean dispatchOptionsRequest = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean dispatchTraceRequest = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean enableLoggingRequestDetails = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private WebApplicationContext webApplicationContext;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean webApplicationContextInjected = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private volatile boolean refreshEventReceived;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Object onRefreshMonitor = new Object();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px ; margin-left: 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-480" y="740" width="440" height="260" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-9" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-8" target="eXKHKXfQXdhzo-oVxrPX-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-8" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HttpServletBean&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;//环境变量，由EnvironmentAware注入&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private ConfigurableEnvironment &lt;b&gt;environment&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Set&amp;lt;String&amp;gt; &lt;b&gt;requiredProperties&lt;/b&gt; = new HashSet&amp;lt;&amp;gt;(4);&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-440" y="620" width="360" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-12" value="&lt;b&gt;FrameworkServlet&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=11;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="440" y="460" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-13" value="&lt;span style=&quot;font-size: 10px&quot;&gt;processRequest(request, response)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;处理PATCH请求或空类型请求，暂略&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="560" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-17" value="PATCH&amp;nbsp;&lt;br&gt;或 null" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-19" value="GET" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-30" edge="1">
          <mxGeometry x="0.5" relative="1" as="geometry">
            <mxPoint x="600" y="670" as="targetPoint" />
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="670" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-35" value="HEAD" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-33" edge="1">
          <mxGeometry x="0.6667" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="750" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-41" value="POST" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-34" edge="1">
          <mxGeometry x="0.75" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="830" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-42" value="PUT" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-36" edge="1">
          <mxGeometry x="0.8" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="910" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-43" value="DELETE" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-37" edge="1">
          <mxGeometry x="0.8333" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="990" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-44" value="OPTIONS" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-38" edge="1">
          <mxGeometry x="0.8571" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="1070" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-45" value="TRACE" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-39" edge="1">
          <mxGeometry x="0.875" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="1150" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-46" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-15" target="eXKHKXfQXdhzo-oVxrPX-40" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="590" />
              <mxPoint x="570" y="1230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-15" value="&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;请求方法类型&lt;br&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="440" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-29" value="流程图这里和HttpServlet 的 &lt;br&gt;service方法合并了&lt;br&gt;&lt;br&gt;&lt;b&gt;super.service(request, response)&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="380" y="625" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-30" target="eXKHKXfQXdhzo-oVxrPX-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-30" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doGet(req, resp)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;省略了关于最后修改时间的处理&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="640" y="640" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-31" value="HttpServlet" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="705" y="620" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-33" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;doHead(req, resp)&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;省略了关于最后修改时间的处理&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="720" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-114" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-34" target="eXKHKXfQXdhzo-oVxrPX-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-34" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doPost(req, resp)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="640" y="800" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-115" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-36" target="eXKHKXfQXdhzo-oVxrPX-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-36" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doPut(req, resp)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="640" y="880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-116" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-37" target="eXKHKXfQXdhzo-oVxrPX-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-37" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doDelete(req, resp)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="640" y="960" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-38" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doOptions(req, resp)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="640" y="1040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-39" value="&lt;span style=&quot;font-size: 10px&quot;&gt;doTrace(req, resp)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="1120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-40" value="&lt;span style=&quot;font-size: 10px&quot;&gt;resp.sendError(HttpServletResponse.&lt;br&gt;&lt;b&gt;SC_NOT_IMPLEMENTED&lt;/b&gt;, errMsg)&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;其他请求抛 501 错误码&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="1200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-47" target="eXKHKXfQXdhzo-oVxrPX-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-47" value="&lt;span style=&quot;font-size: 10px&quot;&gt;processRequest(request, response)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="640" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-49" target="eXKHKXfQXdhzo-oVxrPX-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-49" value="&lt;span style=&quot;font-size: 9px&quot;&gt;asyncManager.&lt;b&gt;registerCallableInterceptor&lt;/b&gt;(&lt;br&gt;FrameworkServlet.class.getName(), new RequestBindingInterceptor())&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1080" y="640" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-54" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-51" target="eXKHKXfQXdhzo-oVxrPX-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-51" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;initContextHolders&lt;/b&gt;(request, localeContext, requestAttributes)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;初始化请求上下文，先缓存旧的国际化、请求属性，然后基于旧值创建新的国际化、请求属性等容器并存入ThreadLocal&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1080" y="720" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-56" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-53" target="eXKHKXfQXdhzo-oVxrPX-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-53" target="eXKHKXfQXdhzo-oVxrPX-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-53" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;doService&lt;/b&gt;(request, response)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1080" y="820" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-55" value="&lt;span style=&quot;font-size: 10px&quot;&gt;finally:&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;重置请求上下文为旧数据，并发布请求已处理事件&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ServletRequestHandledEvent&lt;br&gt;这个事件用于记录请求信息&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1080" y="900" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-57" target="eXKHKXfQXdhzo-oVxrPX-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-57" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;request.setAttribute()&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;设置了一组属性（存储属性用的是CHM）&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="820" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-59" value="&lt;b&gt;DispatcherServlet&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1370" y="800" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-60" value="&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.CONTEXT&quot; -&amp;gt; {XmlWebApplicationContext@4724}&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.THEME_SOURCE&quot; -&amp;gt; {XmlWebApplicationContext@4724}&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.LOCALE_RESOLVER&quot; -&amp;gt; {AcceptHeaderLocaleResolver@4714}&amp;nbsp;&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.HandlerMapping.bestMatchingPattern&quot; -&amp;gt; &quot;/example/hello&quot;&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.OUTPUT_FLASH_MAP&quot; -&amp;gt; {FlashMap@6056}&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.FLASH_MAP_MANAGER&quot; -&amp;gt; {SessionFlashMapManager@4720}&amp;nbsp;&lt;/div&gt;&lt;div&gt;&quot;org.springframework.web.servlet.DispatcherServlet.THEME_RESOLVER&quot; -&amp;gt; {FixedThemeResolver@4715}&amp;nbsp;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1360" y="720" width="510" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-61" target="eXKHKXfQXdhzo-oVxrPX-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-61" target="eXKHKXfQXdhzo-oVxrPX-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-61" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;doDispatch&lt;/b&gt;&lt;font color=&quot;#330000&quot;&gt;(request, response)&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;请求的分发&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1320" y="900" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-63" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;finally:&lt;br&gt;暂略&lt;br&gt;&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="980" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-65" target="eXKHKXfQXdhzo-oVxrPX-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-65" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;用于支持异步请求处理&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1560" y="900" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-67" target="eXKHKXfQXdhzo-oVxrPX-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-67" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;processedRequest = checkMultipart(request);&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1560" y="980" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-69" target="eXKHKXfQXdhzo-oVxrPX-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-127" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-69" target="eXKHKXfQXdhzo-oVxrPX-126" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-69" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;mappedHandler = &lt;/font&gt;&lt;b style=&quot;font-size: 10px ; color: rgb(51 , 0 , 0)&quot;&gt;getHandler&lt;/b&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;(processedRequest);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 9px&quot;&gt;获取真正处理此请求的&lt;b&gt;HandlerExecutionChain&lt;/b&gt;&lt;br&gt;对象，包括处理器和拦截器链&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1560" y="1060" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-71" target="eXKHKXfQXdhzo-oVxrPX-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-71" target="Yp-SRrxAVPVsKjN0fyP4-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-71" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;HandlerAdapter ha = &lt;b&gt;getHandlerAdapter&lt;/b&gt;(&lt;br&gt;mappedHandler.getHandler());&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1560" y="1320" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-24" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-73" target="eXKHKXfQXdhzo-oVxrPX-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-73" target="Yp-SRrxAVPVsKjN0fyP4-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-73" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;mappedHandler.&lt;/font&gt;&lt;b style=&quot;font-size: 10px ; color: rgb(51 , 0 , 0)&quot;&gt;applyPreHandle&lt;/b&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;(&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;processedRequest, response)&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;依次执行拦截器链中拦截器的preHandle&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1560" y="1720" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-23" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-75" target="eXKHKXfQXdhzo-oVxrPX-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-157" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-75" target="eXKHKXfQXdhzo-oVxrPX-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-75" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;mv&lt;/b&gt; = ha.&lt;/font&gt;&lt;b style=&quot;font-size: 10px ; color: rgb(51 , 0 , 0)&quot;&gt;handle&lt;/b&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;(processedRequest, response, mappedHandler.getHandler());&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;请求处理，这里只分析 ha 为&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;RequestMappingHandlerAdapter&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1560" y="1880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-77" target="eXKHKXfQXdhzo-oVxrPX-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-77" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;applyDefaultViewName&lt;/b&gt;&lt;font color=&quot;#330000&quot;&gt;(&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#330000&quot;&gt;processedRequest, mv);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;如果mv中View是空的，就设置默认的View&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1560" y="2200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-79" target="eXKHKXfQXdhzo-oVxrPX-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-79" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;mappedHandler.&lt;b&gt;applyPostHandle&lt;/b&gt;(&lt;br&gt;processedRequest, response, mv);&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1560" y="2280" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-81" target="eXKHKXfQXdhzo-oVxrPX-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-255" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-81" target="Yp-SRrxAVPVsKjN0fyP4-254" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-81" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;processDispatchResult&lt;/b&gt;(processedRequest, response, mappedHandler, mv, dispatchException);&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1560" y="2360" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-83" value="&lt;span style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;finally:&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;mappedHandler.&lt;br&gt;&lt;b&gt;applyAfterConcurrentHandlingStarted&lt;/b&gt;(&lt;br&gt;processedRequest, response);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;一些异步请求或 multipart请求的处理&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1560" y="2840" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-85" target="eXKHKXfQXdhzo-oVxrPX-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-85" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return handleInternal(request, response, (HandlerMethod) handler);&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-87" value="&lt;b&gt;AbstractHandlerMethodAdapter&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1820" y="1860" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-95" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-90" target="eXKHKXfQXdhzo-oVxrPX-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-97" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-90" target="eXKHKXfQXdhzo-oVxrPX-96" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2240" y="1930" />
              <mxPoint x="2240" y="1990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-98" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-90" target="eXKHKXfQXdhzo-oVxrPX-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-90" value="&lt;font style=&quot;font-size: 10px&quot;&gt;this.synchronizeOnSession&lt;br&gt;&amp;amp;&amp;amp; session != null&lt;br&gt;&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2080" y="1870" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-253" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-92" target="Yp-SRrxAVPVsKjN0fyP4-252" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-92" value="&lt;font style=&quot;font-size: 10px&quot;&gt;如果响应header中不包含&quot;Cache-Control&quot;，就设置默认的缓存控制&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2020" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-94" value="&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;synchronized (mutex) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; mav = invokeHandlerMethod(request, response, handlerMethod);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;}&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="2320" y="1880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-96" target="eXKHKXfQXdhzo-oVxrPX-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-96" value="&lt;font style=&quot;font-size: 10px&quot;&gt;mav = &lt;b&gt;invokeHandlerMethod&lt;/b&gt;(request, response, handlerMethod);&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2320" y="1960" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#330000;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-99" target="eXKHKXfQXdhzo-oVxrPX-109" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-99" value="&lt;font style=&quot;font-size: 10px&quot;&gt;ServletWebRequest webRequest = new &lt;b&gt;ServletWebRequest&lt;/b&gt;(request, response);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;RequestFacade对象封装成了ServletWebRequest&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2760" y="1960" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-101" value="&lt;b&gt;RequestMappingHandlerAdapter&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="2770" y="1940" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-102" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HttpServletRequest &lt;/b&gt;(I)&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1160" y="120" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-106" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=10;fontColor=#330000;endArrow=block;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-103" target="eXKHKXfQXdhzo-oVxrPX-102" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-860" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-108" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.002;entryY=0.069;entryDx=0;entryDy=0;fontSize=10;fontColor=#330000;endArrow=open;endFill=0;entryPerimeter=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-103" target="eXKHKXfQXdhzo-oVxrPX-104" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-103" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;RequestFacade&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;protected Request &lt;b&gt;request&lt;/b&gt;;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1360" y="201" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-105" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=10;fontColor=#330000;endArrow=block;endFill=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-104" target="eXKHKXfQXdhzo-oVxrPX-102" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-860" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-113" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-104" target="eXKHKXfQXdhzo-oVxrPX-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-104" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;org.apache.catalina.connector.&lt;b&gt;Request&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//当前请求对应的Coyote请求对象, Coyote 是 Tomcat 的连接器，这个请求即是请求接入后&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected &lt;b&gt;org.apache.coyote.Request&lt;/b&gt; &lt;b&gt;coyoteRequest&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求附带的 Cookies&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Cookie[] &lt;b&gt;cookies&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;@Deprecated&amp;nbsp; &amp;nbsp; //Tomcat10中弃用&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected final SimpleDateFormat formats[];&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;@Deprecated&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private static final SimpleDateFormat formatsTemplate[];&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//默认使用的请求国际化信息，更多参考：Accept-Language 请求头&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected static final Locale defaultLocale = Locale.getDefault();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求国际化信息&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected final ArrayList&amp;lt;Locale&amp;gt; &lt;b&gt;locales&lt;/b&gt; = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求属性，现在看使用场景更多的是用于请求处理过程中中间数据存储&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private final Map&amp;lt;String, Object&amp;gt; &lt;b&gt;attributes&lt;/b&gt; = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean sslAttributesParsed = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private final transient HashMap&amp;lt;String, Object&amp;gt; notes = new HashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;authType&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//分发（调度）类型，有 FORWARD、INCLUDE、REQUEST、ASYNC、ERROR，默认REQUEST&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected DispatcherType &lt;b&gt;internalDispatcherType&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求的输入缓存区&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected final InputBuffer &lt;b&gt;inputBuffer&lt;/b&gt; = new InputBuffer();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected CoyoteInputStream &lt;b&gt;inputStream&lt;/b&gt; = new CoyoteInputStream(inputBuffer);&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected CoyoteReader &lt;b&gt;reader&lt;/b&gt; = new CoyoteReader(inputBuffer);&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//当前请求是否正在使用输入流进行处理&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean usingInputStream = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//当前请求是否正在使用 Reader 进行处理&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean usingReader = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Principal userPrincipal = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求参数是否已经被解析&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean parametersParsed = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//cookie headers 是否已经解析到了 ServerCookies&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean cookiesParsed = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//ServerCookies 是否已经被转换到面向用户的 Cookie 对象中&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean cookiesConverted = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//是否使用 SSL 进行安全通信&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean secure = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected transient Subject subject = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//POST Data Buffer 大小&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected static final int &lt;b&gt;CACHED_POST_LEN&lt;/b&gt; = 8192;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected byte[] &lt;b&gt;postData&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected ParameterMap&amp;lt;String, String[]&amp;gt; &lt;b&gt;parameterMap&lt;/b&gt; = new ParameterMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Collection&amp;lt;Part&amp;gt; parts = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Exception partsParseException = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Session session = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//分发路径信息，比如 /example/hello&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Object &lt;b&gt;requestDispatcherPath&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean requestedSessionCookie = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//请求所请求的会话 ID&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;requestedSessionId&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean requestedSessionURL = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean requestedSessionSSL = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected boolean localesParsed = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//客户端IP地址&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;remoteAddr&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String peerAddr = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//客户端主机名&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;remoteHost&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//客户端使用网络端口&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected int &lt;b&gt;remotePort&lt;/b&gt; = -1;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//此Web服务器IP地址&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;localAddr&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//此Web服务器主机名&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected String &lt;b&gt;localName&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected int &lt;b&gt;localPort&lt;/b&gt; = -1;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//当前请求的异步处理上下文对象&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private volatile AsyncContextImpl asyncContext = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//当前请求是否支持异步处理&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected Boolean asyncSupported = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//同 facade&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private HttpServletRequest &lt;b&gt;applicationRequest&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;//当前使用的Tomcat连接器&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected final Connector connector;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected B2CConverter URIConverter = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//请求的过滤器链，Tomcat默认只有 WebSocket Filter&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected FilterChain &lt;b&gt;filterChain&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//Servlet应用映射（路由映射）数据&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected final MappingData &lt;b&gt;mappingData&lt;/b&gt; = new MappingData();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private final ApplicationMapping &lt;b&gt;applicationMapping&lt;/b&gt; = new ApplicationMapping(mappingData);&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//相关联的 RequestFacade 对象（门面模式），从Tomcat Wrapper 到 SpringMVC 调用Handler方法&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;请求传参都是用的这个门面对象&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected RequestFacade &lt;b&gt;facade&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;//与请求相关联的响应&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;protected org.apache.catalina.connector.Response &lt;b&gt;response&lt;/b&gt; = null;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;private static final Map&amp;lt;String, SpecialAttributeAdapter&amp;gt; specialAttributes = new HashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1120" y="201" width="480" height="1059" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-109" target="Yp-SRrxAVPVsKjN0fyP4-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-109" target="Yp-SRrxAVPVsKjN0fyP4-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-109" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;WebDataBinderFactory &lt;b&gt;binderFactory&lt;/b&gt; = getDataBinderFactory(handlerMethod);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;用于参数解析&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-112" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;&lt;font color=&quot;#330000&quot;&gt;org.apache.coyote.&lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;Request &lt;/b&gt;Tomcat连接器请求&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int serverPort = -1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes serverNameMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int remotePort;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int localPort;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes schemeMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//请求类型&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes &lt;b&gt;methodMB&lt;/b&gt; = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//请求路径URI, 包含context基本路径&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes &lt;b&gt;uriMB&lt;/b&gt; = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes decodedUriMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes queryMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes protoMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes remoteAddrMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes peerAddrMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes localNameMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes remoteHostMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes localAddrMB = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MimeHeaders headers = new MimeHeaders();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Map&amp;lt;String, String&amp;gt; trailerFields = new HashMap&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Map&amp;lt;String, String&amp;gt; pathParameters = new HashMap&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Object notes[] = new Object[Constants.MAX_NOTES];&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private InputBuffer inputBuffer = null;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final UDecoder urlDecoder = new UDecoder();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private long contentLength = -1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private MessageBytes contentTypeMB = null;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private Charset charset = null;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private String characterEncoding = null;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean expectation = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final ServerCookies serverCookies = new ServerCookies(INITIAL_COOKIE_SIZE);&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Parameters parameters = new Parameters();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes remoteUser = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean remoteUserNeedsAuthorization = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final MessageBytes authType = MessageBytes.newInstance();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final HashMap&amp;lt;String, Object&amp;gt; attributes = new HashMap&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private Response response;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile ActionHook hook;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private long bytesRead = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private long startTime = -1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private long threadId = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int available = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final RequestInfo reqProcessorMX = new RequestInfo(this);&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean sendfile = true;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private Exception errorException = null;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;volatile ReadListener listener;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean fireListener = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean registeredForRead = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Object nonBlockingStateLock = new Object();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1640" y="300" width="480" height="720" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-126" target="eXKHKXfQXdhzo-oVxrPX-129" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-126" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;for (HandlerMapping mapping : this.&lt;b&gt;handlerMappings&lt;/b&gt;)：&lt;br&gt;&lt;/font&gt;HandlerExecutionChain handler = mapping.&lt;b&gt;getHandler&lt;/b&gt;(request);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;即遍历处理器映射器列表查询与请求匹配的处理器对象， &lt;/font&gt;&lt;font color=&quot;#ff3333&quot;&gt;TODO handlerMappings 怎么创建的&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1040" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-128" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HandlerExecutionChain&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//请求路径绑定的处理器方法对象，对应Controller某方法的方法对象&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//handler 是 &lt;b&gt;HandlerMethod&lt;/b&gt;对象，测试Demo中是&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;&amp;nbsp;//&lt;span&gt;&#x9;&lt;/span&gt;top.kwseeker.spring.mvc.AnnotationBasedController#sayHello(String)&lt;/font&gt;&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Object &lt;b&gt;handler&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//请求路径绑定的拦截器链&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final List&amp;lt;HandlerInterceptor&amp;gt; &lt;b&gt;interceptorList&lt;/b&gt; = new ArrayList&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//执行到了哪个拦截器&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int &lt;b&gt;interceptorIndex&lt;/b&gt; = -1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-480" y="1440" width="440" height="160" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-134" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-129" target="eXKHKXfQXdhzo-oVxrPX-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-138" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-129" target="eXKHKXfQXdhzo-oVxrPX-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-129" value="&lt;font&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;RequestMappingInfoHandlerMapping&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;最常用，后面的流程只画最核心的&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;处理@RequestMapping注解生成 RequestMappingInfo&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1060" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-132" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;其他映射器:&lt;br&gt;&lt;/span&gt;&lt;/font&gt;SimpleUrlHandlerMapping&lt;br&gt;BeanNameUrlHandlerMapping&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1140" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-137" target="eXKHKXfQXdhzo-oVxrPX-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-181" value="" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-137" target="eXKHKXfQXdhzo-oVxrPX-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-137" value="&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 9px&quot;&gt;&amp;nbsp;Object handler = getHandlerInternal(request);&lt;/div&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 9px&quot;&gt;&amp;nbsp;if (handler == null) {&lt;/div&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;handler = getDefaultHandler();&lt;/div&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 9px&quot;&gt;&amp;nbsp;}&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 8px&quot; color=&quot;#007fff&quot;&gt;使用请求路由信息查找handler对象（即Controller对象），没有就用默认的&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;arcSize=13;" parent="1" vertex="1">
          <mxGeometry x="2280" y="1050" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-142" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-139" target="eXKHKXfQXdhzo-oVxrPX-141" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-139" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px ; color: rgb(51 , 0 , 0)&quot;&gt;String lookupPath = &lt;b&gt;initLookupPath&lt;/b&gt;(request);&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;查询Tomcat原始请求uriMB获取请求路由&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;并缓存（之后就不需要再查找了）&lt;/font&gt;&lt;/font&gt;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="2520" y="1060" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-141" target="eXKHKXfQXdhzo-oVxrPX-143" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-147" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-141" target="eXKHKXfQXdhzo-oVxrPX-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-141" value="&lt;font color=&quot;#330000&quot;&gt;HandlerMethod handlerMethod = &lt;/font&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;lookupHandlerMethod&lt;/b&gt;&lt;font color=&quot;#330000&quot;&gt;(lookupPath, request);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;3重匹配规则&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2520" y="1140" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-177" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-143" target="eXKHKXfQXdhzo-oVxrPX-175" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-143" value="&lt;font color=&quot;#330000&quot;&gt;return (handlerMethod != null ? handlerMethod.&lt;b&gt;createWithResolvedBean&lt;/b&gt;() : null);&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="2510" y="1220" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-145" value="&lt;font style=&quot;font-size: 10px&quot;&gt;缓存到 &quot;org.springframework.web.util.UrlPathHelper.PATH&quot;属性中&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="2720" y="1080" width="320" height="20" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-154" value="" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-146" target="eXKHKXfQXdhzo-oVxrPX-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-281" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=8;fontColor=#330000;endArrow=classic;endFill=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-146" target="eXKHKXfQXdhzo-oVxrPX-170" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-146" value="&lt;font color=&quot;#330000&quot;&gt;List&amp;lt;T&amp;gt; directPathMatches = this.&lt;/font&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;mappingRegistry&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#330000&quot;&gt;.getMappingsByDirectPath(lookupPath);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;查找匹配的 RequestMappingInfo-&amp;gt;MappingRegistration&lt;br&gt;&lt;b&gt;1 按路径匹配&lt;/b&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3040" y="1130" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-152" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=11;fontColor=#007FFF;endArrow=open;endFill=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-148" target="eXKHKXfQXdhzo-oVxrPX-151" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-148" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;AbstractHandlerMethodMapping&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private boolean detectHandlerMethodsInAncestorContexts = false;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private HandlerMethodMappingNamingStrategy&amp;lt;T&amp;gt; namingStrategy;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;b&gt;//请求路由到处理器方法的映射的注册容器（很重要）&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final MappingRegistry &lt;b&gt;mappingRegistry&lt;/b&gt; = new MappingRegistry();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&amp;nbsp; &lt;/font&gt;&lt;font color=&quot;#000099&quot;&gt;// AbstractHandlerMapping 字段&lt;/font&gt;&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private Object defaultHandler;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private PathPatternParser patternParser;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private UrlPathHelper urlPathHelper = new UrlPathHelper();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private PathMatcher pathMatcher = new AntPathMatcher();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final List&amp;lt;Object&amp;gt; interceptors = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;// 启动阶段注册的拦截器&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final List&amp;lt;HandlerInterceptor&amp;gt; &lt;b&gt;adaptedInterceptors&lt;/b&gt; = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private CorsConfigurationSource corsConfigurationSource;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private CorsProcessor corsProcessor = new DefaultCorsProcessor();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private int order = Ordered.LOWEST_PRECEDENCE;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private String beanName;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1000" y="1320" width="440" height="280" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-150" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-149" target="eXKHKXfQXdhzo-oVxrPX-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-149" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;RequestMappingInfoHandlerMapping&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1000" y="1640" width="440" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-156" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=8;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-151" target="eXKHKXfQXdhzo-oVxrPX-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-174" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=11;fontColor=#007FFF;endArrow=diamondThin;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-151" target="eXKHKXfQXdhzo-oVxrPX-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-151" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;AbstractHandlerMethodMapping$MappingRegistry&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;//&lt;b&gt;RequestMappingInfo&lt;/b&gt; (即@RequestMpping定义的内容) -&amp;gt; MappingRegistration（&lt;br&gt;&lt;span&gt;&#x9;&lt;/span&gt;包含RequestMappingInfo、对应的处理器方法HandlerMethod、MappingName[可以理解为简写的处理器方法]）&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Map&amp;lt;T, MappingRegistration&amp;lt;T&amp;gt;&amp;gt; &lt;b&gt;registry&lt;/b&gt; = new HashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;//支持通过请求路由查找 RequestMappingInfo 对象&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final MultiValueMap&amp;lt;String, T&amp;gt; &lt;b&gt;pathLookup&lt;/b&gt; = new LinkedMultiValueMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; //支持通过MappingName查找 RequestMappingInfo 对象&lt;/font&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Map&amp;lt;String, List&amp;lt;HandlerMethod&amp;gt;&amp;gt; &lt;b&gt;nameLookup&lt;/b&gt; = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Map&amp;lt;HandlerMethod, CorsConfiguration&amp;gt; &lt;b&gt;corsLookup&lt;/b&gt; = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final ReentrantReadWriteLock readWriteLock = new ReentrantReadWriteLock();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;b&gt;查找原理&lt;/b&gt;：&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;b&gt;请求路由 -&amp;gt; pathLookup 获取 RequestMappingInfo -&amp;gt; registry 获取MappingRegistration&lt;br&gt;MappingName -&amp;gt; nameLookup 获取 RequestMappingInfo -&amp;gt; registry 获取 MappingRegistration&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1560" y="1320" width="520" height="220" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-153" target="eXKHKXfQXdhzo-oVxrPX-157" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-284" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;fontColor=#330000;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-153" target="Yp-SRrxAVPVsKjN0fyP4-283" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-153" value="&lt;font color=&quot;#330000&quot;&gt;addMatchingMappings(directPathMatches, matches, request);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;2 依次按 RequestMethod&amp;nbsp;param header consume produce pathPattern pattern 自定义条件 等条件适配过滤&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3040" y="1240" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-155" value="&lt;p style=&quot;margin: 4px 0px 0px ; text-align: center&quot;&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;RequestMappingInfo &lt;/b&gt;&lt;font style=&quot;font-size: 8px&quot;&gt;包含查询请求对应的处理器方法时的匹配条件集合&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#000099&quot;&gt;用作查询与请求适配的Handler方法，对应 @RequestMapping各个属性的值&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#000099&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final String &lt;b&gt;name&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final PathPatternsRequestCondition &lt;b&gt;pathPatternsCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot;&gt;//路由匹配规则(Set集合)， 如：[/rb/user]&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final PatternsRequestCondition &lt;b&gt;patternsCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot;&gt;//HTTP请求类型匹配规则，如：GET&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final RequestMethodsRequestCondition &lt;b&gt;methodsCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final ParamsRequestCondition &lt;b&gt;paramsCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final HeadersRequestCondition &lt;b&gt;headersCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final ConsumesRequestCondition &lt;b&gt;consumesCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final ProducesRequestCondition &lt;b&gt;producesCondition&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final RequestConditionHolder &lt;b&gt;customConditionHolder&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final int hashCode;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font size=&quot;1&quot; color=&quot;#330000&quot;&gt;private final BuilderConfiguration options;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1960" y="1320" width="360" height="260" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-166" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-157" target="eXKHKXfQXdhzo-oVxrPX-164" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-157" value="&lt;font color=&quot;#330000&quot; size=&quot;1&quot;&gt;addMatchingMappings&lt;/font&gt;&lt;font&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 8px&quot;&gt;(&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 8px&quot;&gt;this.mappingRegistry.getRegistrations().keySet(), matches, request);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 9px&quot;&gt;这个只是用作备用的，万一上一步没有适配的处理器方法，这里就全部扫一遍&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="3040" y="1320" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-169" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-162" target="eXKHKXfQXdhzo-oVxrPX-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-162" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 9px&quot;&gt;&lt;div&gt;request.&lt;b&gt;setAttribute&lt;/b&gt;(&lt;br&gt;BEST_MATCHING_HANDLER_ATTRIBUTE, bestMatch.getHandlerMethod());&lt;/div&gt;&lt;div&gt;&lt;b&gt;handleMatch&lt;/b&gt;(bestMatch.mapping, &lt;br&gt;lookupPath, request);&lt;/div&gt;&lt;div&gt;return bestMatch.&lt;b&gt;getHandlerMethod&lt;/b&gt;();&lt;/div&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3040" y="1480" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-167" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-164" target="eXKHKXfQXdhzo-oVxrPX-162" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#007FFF;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-164" target="Yp-SRrxAVPVsKjN0fyP4-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-164" value="&lt;font&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;&lt;font size=&quot;1&quot;&gt;3 如果适配的处理器方法不只一个还要用&lt;br&gt;&lt;/font&gt;MatchComparator排序，选择最合适的一个作为处理器方法&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3040" y="1400" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-168" value="&lt;font color=&quot;#330000&quot;&gt;&lt;font size=&quot;1&quot;&gt;return this.&lt;b&gt;registration&lt;br&gt;&lt;/b&gt;.getHandlerMethod();&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3280" y="1490" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-170" value="&lt;font&gt;&lt;b&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;查找原理&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;：&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;请求路由 -&amp;gt; 从 pathLookup（Map对象） 获取 RequestMappingInfo -&amp;gt; 从 registry 获取MappingRegistration&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;然后将 RequestMappingInfo MappingRegistration 封装成 Match对象返回&lt;/span&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;this.mappingRegistry = {AbstractHandlerMethodMapping$MappingRegistry@4825}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;&lt;b&gt;registry&lt;/b&gt; = {HashMap@4852}&amp;nbsp; size = 7&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; {RequestMappingInfo@4867} &quot;{ [/testParam3/{username}/{age}]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4868}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; {RequestMappingInfo@4869} &quot;{ [/testParam4]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4870}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; {RequestMappingInfo@4871} &quot;{ [/testParam1]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4872}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; {RequestMappingInfo@4873} &quot;{ [/testParam2]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4874}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;&amp;nbsp; {RequestMappingInfo@4875} &quot;{GET [/rb/user]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4876}&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;&amp;nbsp; {RequestMappingInfo@4877} &quot;{POST [/rb/user]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4878}&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; {RequestMappingInfo@4879} &quot;{ [/example/hello]}&quot; -&amp;gt; {AbstractHandlerMethodMapping$MappingRegistration@4880}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;&lt;b&gt;pathLookup&lt;/b&gt; = {LinkedMultiValueMap@4853}&amp;nbsp; size = 5&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;/example/hello&quot; -&amp;gt; {ArrayList@4896}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;/testParam1&quot; -&amp;gt; {ArrayList@4898}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;/testParam2&quot; -&amp;gt; {ArrayList@4900}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;/testParam4&quot; -&amp;gt; {ArrayList@4902}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;&lt;b&gt;/rb/user&lt;/b&gt;&quot; -&amp;gt; {ArrayList@4850}&amp;nbsp; size = 2&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp;key = &quot;/rb/user&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp;value = {ArrayList@4850}&amp;nbsp; size = 2&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; 0 = {RequestMappingInfo@4875} &quot;{GET [/rb/user]}&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; 1 = {RequestMappingInfo@4877} &quot;{POST [/rb/user]}&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;&lt;b&gt;nameLookup&lt;/b&gt; = {ConcurrentHashMap@4854}&amp;nbsp; size = 7&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;ABC#sayHello&quot; -&amp;gt; {ArrayList@4917}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;PCC#testParam4&quot; -&amp;gt; {ArrayList@4919}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;PCC#testParam1&quot; -&amp;gt; {ArrayList@4921}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;PCC#testParam3&quot; -&amp;gt; {ArrayList@4923}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;RBC#updateUser&quot; -&amp;gt; {ArrayList@4925}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;PCC#testParam2&quot; -&amp;gt; {ArrayList@4927}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &quot;RBC#getUser&quot; -&amp;gt; {ArrayList@4929}&amp;nbsp; size = 1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;corsLookup = {ConcurrentHashMap@4855}&amp;nbsp; size = 0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;readWriteLock = {ReentrantReadWriteLock@4856} &quot;java.util.concurrent.locks.ReentrantReadWriteLock@3a2461f3[Write locks = 0, Read locks = 1]&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&amp;nbsp;this$0 = {RequestMappingHandlerMapping@3609}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="3280" y="790" width="690" height="410" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-173" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-172" target="eXKHKXfQXdhzo-oVxrPX-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-179" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=open;endFill=0;" parent="1" source="eXKHKXfQXdhzo-oVxrPX-172" target="eXKHKXfQXdhzo-oVxrPX-178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-172" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;span&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;MappingRegistration&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;&amp;nbsp;&lt;/b&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;处理器方法注册对象&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final T &lt;b&gt;mapping&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final HandlerMethod &lt;b&gt;handlerMethod&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Set&amp;lt;String&amp;gt; directPaths;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final String mappingName;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final boolean corsConfig;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1440" y="1590" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-175" value="&lt;font color=&quot;#330000&quot;&gt;&lt;div&gt;Object handler = this.bean;&lt;/div&gt;&lt;div&gt;if (this.bean instanceof String) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; String beanName = (String) this.bean;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; handler = this.beanFactory.&lt;b&gt;getBean&lt;/b&gt;(beanName);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;return new &lt;b&gt;HandlerMethod&lt;/b&gt;(this, handler);&lt;/div&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;arcSize=4;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="1210" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-178" value="&lt;div style=&quot;text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HandlerMethod&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Object &lt;b&gt;bean&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final BeanFactory &lt;b&gt;beanFactory&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final MessageSource messageSource;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//Handler类（Controller）的类型&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Class&amp;lt;?&amp;gt; &lt;b&gt;beanType&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;//Handler类（Controller）的Method方法&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Method &lt;b&gt;method&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;//Handler类（Controller）的Method方法&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final Method &lt;b&gt;bridgedMethod&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; //Handler类（Controller）的Method方法参数说明&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final MethodParameter[] &lt;b&gt;parameters&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private HttpStatus &lt;b&gt;responseStatus&lt;/b&gt;;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private String responseStatusReason;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private HandlerMethod resolvedFromHandlerMethod;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private volatile List&amp;lt;Annotation[][]&amp;gt; interfaceParameterAnnotations;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private final String description;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-1960" y="1600" width="360" height="260" as="geometry" />
        </mxCell>
        <mxCell id="eXKHKXfQXdhzo-oVxrPX-180" value="&lt;div&gt;&lt;font color=&quot;#330000&quot; size=&quot;1&quot;&gt;HandlerExecutionChain executionChain = &lt;b&gt;getHandlerExecutionChain&lt;/b&gt;(handler, request);&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 8px&quot;&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 8px&quot;&gt;上一步查找到了Handler对象然后装配上拦截器创建 HandlerExecutionChain&lt;br&gt;这里传request是为了过滤掉不匹配的拦截器&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=center;arcSize=13;" parent="1" vertex="1">
          <mxGeometry x="2280" y="1300" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-1" value="&lt;font&gt;&lt;font size=&quot;1&quot; color=&quot;#ff3333&quot;&gt;TODO MatchComparator &lt;br&gt;应用与原理&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;arcSize=13;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="3280" y="1400" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-4" value="1 获取请求处理器（HandlerExecutionChain）, &lt;br&gt;即Controller方法对象(&lt;b&gt;HandlerMethod&lt;/b&gt;) + 拦截器链，&lt;br&gt;但是注意如果有用AOP，HandlerExecutionChain中&lt;br&gt;的handler是Controller方法对象的代理对象" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="1065" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-5" value="&lt;div&gt;&lt;b&gt;贴下Debug信息，直观地看下对象中包含哪些东西：&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&lt;b&gt;mappedHandler&lt;/b&gt; = {HandlerExecutionChain@10182} &quot;HandlerExecutionChain with [top.kwseeker.spring.mvc.AnnotationBasedController#sayHello(String)] and 2 interceptors&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;&lt;b&gt;handler&lt;/b&gt; = {&lt;b&gt;HandlerMethod&lt;/b&gt;@10156} &quot;top.kwseeker.spring.mvc.AnnotationBasedController#sayHello(String)&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; bean = {AnnotationBasedController@4679}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; beanFactory = {DefaultListableBeanFactory@4802} &quot;org.springframework.beans.factory.support.DefaultListableBeanFactory@47552116&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; messageSource = {XmlWebApplicationContext@4724} &quot;WebApplicationContext for namespace &#39;dispatcherServlet-servlet&#39;, started on Thu May 25 14:31:40 CST 2023&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; beanType = {Class@3329} &quot;class top.kwseeker.spring.mvc.AnnotationBasedController&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; method = {Method@4684} &quot;public java.lang.String top.kwseeker.spring.mvc.AnnotationBasedController.sayHello(java.lang.String)&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; bridgedMethod = {Method@4684} &quot;public java.lang.String top.kwseeker.spring.mvc.AnnotationBasedController.sayHello(java.lang.String)&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; parameters = {MethodParameter[1]@4803}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; responseStatus = null&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; responseStatusReason = null&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; resolvedFromHandlerMethod = {HandlerMethod@4805} &quot;top.kwseeker.spring.mvc.AnnotationBasedController#sayHello(String)&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; interfaceParameterAnnotations = null&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; description = &quot;top.kwseeker.spring.mvc.AnnotationBasedController#sayHello(String)&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;&lt;b&gt;interceptorList&lt;/b&gt; = {ArrayList@10224}&amp;nbsp; size = 2&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; 0 = {ConversionServiceExposingInterceptor@10226}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; 1 = {ResourceUrlProviderExposingInterceptor@10227}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;interceptorIndex = -1&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-480" y="1600" width="750" height="230" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-6" value="2 获取请求处理器适配器 &lt;b&gt;HandlerAdapter&lt;/b&gt;&lt;br&gt;为何这里需要获取适配器？&lt;br&gt;因为处理器有多种定义方式：&lt;br&gt;如通过@RequestMapping定义，&lt;br&gt;通过实现HttpRequestHandler接口、&lt;br&gt;Controller接口定义；&lt;br&gt;每种定义方式，处理流程都不一样" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="1300" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-9" target="Yp-SRrxAVPVsKjN0fyP4-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-15" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=9;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-9" target="Yp-SRrxAVPVsKjN0fyP4-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-17" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-9" target="Yp-SRrxAVPVsKjN0fyP4-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-19" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#FF3333;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-9" target="Yp-SRrxAVPVsKjN0fyP4-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-21" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#FF3333;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-9" target="Yp-SRrxAVPVsKjN0fyP4-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-9" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;for&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(51 , 0 , 0)&quot;&gt;this.handlerAdapters:&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;if (adapter.&lt;b&gt;supports&lt;/b&gt;(handler)) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;&amp;nbsp; &amp;nbsp; return adapter;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;定义了&lt;b&gt;5种&lt;/b&gt;适配器，遍历适配器通过supports&lt;br&gt;接口找到适合处理当前请求的适配器&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;arcSize=4;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1310" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-126" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=9;fontColor=#007FFF;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-11" target="eXKHKXfQXdhzo-oVxrPX-75" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2010" y="1380" />
              <mxPoint x="2010" y="1630" />
              <mxPoint x="1770" y="1630" />
              <mxPoint x="1770" y="1895" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-11" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;RequestMappingHandlerAdapter&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;支持HandlerMethod类型请求处理器，主要就是通过&lt;b&gt;@RequestMapping&lt;/b&gt;定义&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#ff3333&quot;&gt;TODO: 反过来看启动阶段是怎么创建的？&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1320" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-13" value="&lt;span style=&quot;color: rgb(51 , 0 , 0) ; font-size: 10px&quot;&gt;HttpRequestHandlerAdapter&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;支持通过实现&lt;b&gt;HttpRequestHandler&lt;/b&gt;接口定义的请求处理器&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1400" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-16" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;SimpleControllerHandlerAdapter&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;支持通过实现&lt;b&gt;Controller&lt;/b&gt;接口定义的请求处理器&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1480" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-18" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;HandlerFunctionAdapter&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;支持通过实现&lt;b&gt;HandlerFunction&lt;/b&gt;接口定义的请求处理器&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1560" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-20" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;SimpleServletHandlerAdapter&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;HandlerExecutionChain中的handler对象为Servlet对象，处理方法直接调用service()方法&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1640" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-22" value="&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;现在的项目基本都是基于&lt;br&gt;RequestMappingHandlerAdapter实现，&lt;br&gt;这里只分析&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;RequestMappingHandlerAdapter 实现&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="1770" y="1400" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-25" target="Yp-SRrxAVPVsKjN0fyP4-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-33" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-25" target="Yp-SRrxAVPVsKjN0fyP4-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-25" value="&lt;span style=&quot;font-size: 10px&quot;&gt;遍历执行拦截器，如果preHandle() 返回false, 触发调用拦截器 afterCompletion()&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;默认提供了右边两个拦截器&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="1720" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-27" value="3 依次执行拦截器链中拦截器的前置拦截&lt;br&gt;preHandle()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="1730" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-28" value="4&amp;nbsp; 调用处理器方法" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="1895" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-29" value="5 依次执行拦截器链中拦截器的后置拦截&lt;br&gt;postHandle()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="2295" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-30" value="&lt;span style=&quot;font-size: 10px&quot;&gt;ConversionServiceExposingInterceptor&lt;/span&gt;&lt;br&gt;&lt;font style=&quot;font-size: 8px&quot; color=&quot;#007fff&quot;&gt;前置处理中将ConversionService 放到请求属性中，key是 &lt;br&gt;“org.springframework.core.convert.ConversionService”&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1720" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-32" value="&lt;span style=&quot;font-size: 10px&quot;&gt;ResourceUrlProviderExposingInterceptor&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 8px&quot;&gt;前置处理中将ResourceUrlProvider&amp;nbsp;放到请求属性中，key是&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 8px&quot;&gt;“org.springframework.web.servlet.resource.ResourceUrlProvider”&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1800" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-35" target="Yp-SRrxAVPVsKjN0fyP4-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-35" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return createDataBinderFactory(&lt;br&gt;initBinderMethods);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3000" y="2040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-37" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return new &lt;b&gt;ServletRequestDataBinderFactory&lt;/b&gt;(&lt;br&gt;binderMethods, &lt;b&gt;getWebBindingInitializer&lt;/b&gt;());&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3240" y="2040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-39" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;ServletRequestDataBinderFactory&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#000099&quot;&gt;继承 InitBinderDataBinderFactory&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final List&amp;lt;InvocableHandlerMethod&amp;gt; binderMethods;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;span&gt;&lt;font color=&quot;#000099&quot;&gt;继承 DefaultDataBinderFactory&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final WebBindingInitializer initializer;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#000099&quot;&gt;实现 WebDataBinderFactory&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-480" y="1840" width="440" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-40" target="Yp-SRrxAVPVsKjN0fyP4-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-40" value="&lt;font style=&quot;font-size: 10px&quot;&gt;ModelFactory &lt;b&gt;modelFactory&lt;/b&gt; = getModelFactory(handlerMethod, binderFactory);&lt;br&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;用于&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-42" target="Yp-SRrxAVPVsKjN0fyP4-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-42" target="Yp-SRrxAVPVsKjN0fyP4-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-42" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ServletInvocableHandlerMethod &lt;b&gt;invocableMethod&lt;/b&gt; = createInvocableHandlerMethod(&lt;br&gt;handlerMethod);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-44" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return new ServletInvocableHandlerMethod(&lt;br&gt;handlerMethod);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3000" y="2200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-50" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-46" target="Yp-SRrxAVPVsKjN0fyP4-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-46" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;invocableMethod&lt;/b&gt;&lt;br&gt;.setHandlerMethodArgumentResolvers(&lt;br&gt;this.argumentResolvers);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;用于将请求参数转成Handler方法参数&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2860" y="2300" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-48" target="Yp-SRrxAVPVsKjN0fyP4-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-48" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;invocableMethod&lt;/b&gt;&lt;br&gt;.setHandlerMethodReturnValueHandlers(&lt;br&gt;this.returnValueHandlers);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;用于将Handler方法返回值转成ModelAndView&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2860" y="2380" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-51" target="Yp-SRrxAVPVsKjN0fyP4-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-51" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;invocableMethod&lt;/b&gt;.setDataBinderFactory(&lt;br&gt;&lt;b&gt;binderFactory&lt;/b&gt;);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2860" y="2460" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-53" target="Yp-SRrxAVPVsKjN0fyP4-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-53" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;invocableMethod&lt;/b&gt;&lt;br&gt;.setParameterNameDiscoverer(&lt;br&gt;this.parameterNameDiscoverer);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2860" y="2540" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-55" target="Yp-SRrxAVPVsKjN0fyP4-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-55" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ModelAndViewContainer &lt;b&gt;mavContainer&lt;/b&gt; = new ModelAndViewContainer();&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;存储Handler返回结果&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2640" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-61" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=8;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-57" target="Yp-SRrxAVPVsKjN0fyP4-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-57" value="&lt;font style=&quot;font-size: 8px&quot;&gt;&lt;div&gt;mavContainer.addAllAttributes(RequestContextUtils.getInputFlashMap(request));&lt;/div&gt;&lt;div&gt;&lt;b&gt;modelFactory&lt;/b&gt;.initModel(webRequest, mavContainer, invocableMethod);&lt;/div&gt;&lt;div&gt;mavContainer.setIgnoreDefaultModelOnRedirect(this.ignoreDefaultModelOnRedirect);&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" parent="1" vertex="1">
          <mxGeometry x="2860" y="2740" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-59" target="Yp-SRrxAVPVsKjN0fyP4-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-59" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;请求异步处理&lt;br&gt;&lt;/span&gt;暂略&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2840" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-62" target="Yp-SRrxAVPVsKjN0fyP4-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-62" target="Yp-SRrxAVPVsKjN0fyP4-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-62" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;invocableMethod.&lt;b&gt;invokeAndHandle&lt;/b&gt;(&lt;br&gt;webRequest, mavContainer);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2760" y="2920" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-64" target="Yp-SRrxAVPVsKjN0fyP4-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-64" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return &lt;b&gt;getModelAndView&lt;/b&gt;(mavContainer, modelFactory, webRequest);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2760" y="3080" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-66" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;finally:&lt;br&gt;&lt;/span&gt;webRequest.requestCompleted();&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2760" y="3160" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#000099;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-68" target="Yp-SRrxAVPVsKjN0fyP4-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-68" target="Yp-SRrxAVPVsKjN0fyP4-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-68" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object &lt;b&gt;returnValue&lt;/b&gt; = &lt;b&gt;invokeForRequest&lt;/b&gt;(webRequest, mavContainer, providedArgs);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3000" y="2920" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-181" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-70" target="Yp-SRrxAVPVsKjN0fyP4-180" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-70" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;setResponseStatus(webRequest);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;如果HandlerMethod responseStatus （响应状态码）不为空则设置到response中&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3000" y="3000" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-72" value="&lt;font color=&quot;#007fff&quot;&gt;&lt;b&gt;ServletInvocableHandlerMethod&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#000099;" parent="1" vertex="1">
          <mxGeometry x="3010" y="2900" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-73" target="Yp-SRrxAVPVsKjN0fyP4-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-73" target="Yp-SRrxAVPVsKjN0fyP4-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-73" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object[] args = &lt;b&gt;getMethodArgumentValues&lt;/b&gt;(request, mavContainer, providedArgs);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 9px&quot;&gt;参数解析，即将请求参数转成handler方法参数&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="3240" y="2920" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-175" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-75" target="Yp-SRrxAVPVsKjN0fyP4-174" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-75" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return doInvoke(args);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3240" y="3480" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-80" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-77" target="Yp-SRrxAVPVsKjN0fyP4-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-77" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;MethodParameter[] parameters = &lt;b&gt;getMethodParameters&lt;/b&gt;();&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;获取方法参数列表&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3480" y="2920" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-79" target="Yp-SRrxAVPVsKjN0fyP4-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-79" value="&lt;font&gt;&lt;font style=&quot;font-size: 8px&quot;&gt;for (int i = 0; i &amp;lt; parameters.length; i++)&amp;nbsp; start&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3480" y="3000" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-90" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-81" target="Yp-SRrxAVPVsKjN0fyP4-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-81" value="&lt;font&gt;&lt;font style=&quot;font-size: 8px&quot;&gt;for end&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3480" y="3330" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-86" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-82" target="Yp-SRrxAVPVsKjN0fyP4-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-82" value="&lt;font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;parameter.initParameterNameDiscovery(&lt;br&gt;this.parameterNameDiscoverer);&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3580" y="3070" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-88" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-85" target="Yp-SRrxAVPVsKjN0fyP4-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-85" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;args[i] = &lt;b&gt;findProvidedArgument&lt;/b&gt;(parameter, providedArgs);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;没用到暂略&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3580" y="3150" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-91" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-87" target="Yp-SRrxAVPVsKjN0fyP4-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-95" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-87" target="Yp-SRrxAVPVsKjN0fyP4-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-87" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;args[i] = this.resolvers.&lt;b&gt;resolveArgument&lt;/b&gt;(parameter, mavContainer, request, this.dataBinderFactory);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3575" y="3230" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-89" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return &lt;b&gt;args&lt;/b&gt;;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3480" y="3380" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-92" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;HandlerMethodParameter&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px ; color: rgb(51 , 0 , 0)&quot;&gt;private volatile Annotation[] &lt;/span&gt;&lt;b style=&quot;font-size: 11px ; color: rgb(51 , 0 , 0)&quot;&gt;combinedAnnotations&lt;/b&gt;&lt;span style=&quot;font-size: 11px ; color: rgb(51 , 0 , 0)&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#000099&quot;&gt;&amp;nbsp; 继承MethodParameter&lt;/font&gt;&lt;br&gt;&amp;nbsp; //Executable 是 Method、Constructor 的基类，这里都是处理器方法的Method对象&lt;br&gt;&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Executable &lt;b&gt;executable&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//第几个参数&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final int &lt;b&gt;parameterIndex&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile Parameter parameter;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private int nestingLevel;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;Map&amp;lt;Integer, Integer&amp;gt; typeIndexesPerLevel;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile Class&amp;lt;?&amp;gt; containingClass;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//参数类型&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile Class&amp;lt;?&amp;gt; &lt;b&gt;parameterType&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; //参数完整类型，包含泛型类型&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile Type &lt;b&gt;genericParameterType&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//参数所带的注解&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile Annotation[] &lt;b&gt;parameterAnnotations&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile ParameterNameDiscoverer parameterNameDiscoverer;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile String parameterName;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private volatile MethodParameter nestedMethodParameter;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-480" y="2040" width="440" height="360" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-97" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-94" target="Yp-SRrxAVPVsKjN0fyP4-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-127" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;dashed=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-94" target="Yp-SRrxAVPVsKjN0fyP4-101" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4120" y="3260" />
              <mxPoint x="4120" y="2929" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-94" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;HandlerMethodArgumentResolver resolver = &lt;b&gt;getArgumentResolver&lt;/b&gt;(parameter);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;获取支持此参数类型的Resolver,测试中是 RequestParamMethodArgumentResolver&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3820" y="3230" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-290" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-96" target="Yp-SRrxAVPVsKjN0fyP4-289" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-293" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-96" target="Yp-SRrxAVPVsKjN0fyP4-292" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-96" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return resolver.&lt;b&gt;resolveArgument&lt;/b&gt;(parameter, mavContainer, webRequest, binderFactory);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3820" y="3303" width="220" height="68" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-129" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-98" target="Yp-SRrxAVPVsKjN0fyP4-128" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-134" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-98" target="Yp-SRrxAVPVsKjN0fyP4-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-98" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;NamedValueInfo &lt;b&gt;namedValueInfo&lt;/b&gt; = &lt;b&gt;getNamedValueInfo&lt;/b&gt;(parameter);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;不存在则创建、缓存并返回，&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;NamedValueInfo 是请求参数到方法参数的映射信息&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3301" width="200" height="72" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-100" value="&lt;b&gt;AbstractNamedValueMethodArgumentResolver&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4295" y="3280" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-113" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-117" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-118" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-120" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-109" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-121" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-122" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-123" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-286" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-287" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-101" target="Yp-SRrxAVPVsKjN0fyP4-285" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-101" value="&lt;span style=&quot;font-size: 10px&quot;&gt;Resolver多种实现&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;会根据代码实际使用到的类型进行动态加载，测试中默认加载了25个&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4160" y="2899" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-103" value="&lt;span style=&quot;font-size: 10px&quot;&gt;AbstractCookieValueMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;是个抽象类，处理 @CookieValue 传参，将Cookie中的值转换为方法参数&lt;br&gt;没见过有用这种传参，略&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2578" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-105" value="&lt;span style=&quot;font-size: 10px&quot;&gt;ExpressionValueMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;用于将 Spring 表达式（SpEL）解析后的值转换为方法参数的值&lt;/font&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2660" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-107" value="&lt;span style=&quot;font-size: 10px&quot;&gt;MatrixVariableMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;用于将 URI 上的矩阵变量（matrix variables）转换为@MatrixVariable&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;方法参数的值&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2740" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-108" value="&lt;font style=&quot;font-size: 10px&quot;&gt;PathVariableMethodArgumentResolver&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;用于将路径变量转换为 @PathVariable 修饰的方法参数&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2820" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-109" value="&lt;span style=&quot;font-size: 10px&quot;&gt;RequestAttributeMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;用于将 HTTP 请求中指定属性（通过 Servlet API 的 HttpServletRequest 对象获取）转换为@RequestAttribute&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;方法参数的值&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2900" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-110" value="&lt;span style=&quot;font-size: 10px&quot;&gt;RequestHeaderMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;用于将 HTTP 请求中指定请求头（通过 Servlet API的HttpServletRequest对象获取）转换为@RequestHeader&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;方法参数的值&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="2982" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-111" value="&lt;span style=&quot;font-size: 10px&quot;&gt;RequestParamMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;用于将 HTTP 请求中的查询参数（通过 Servlet API 的 HttpServletRequest 对象获取）转换为&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;方法参数的值&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;可以不指定@RequestParam，就按参数名匹配&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3062" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-112" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;SessionAttributeMethodArgumentResolver&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;用于将 HTTP 请求中指定会话属性（通过 Servlet API 的 HttpSession 对象获取）转换为@SessionAttribute&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;方法参数的值&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3142" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-116" value="比如：&lt;br&gt;&lt;div&gt;@RequestMapping(&quot;/hello&quot;)&lt;/div&gt;&lt;div&gt;public String hello(@Value(&quot;#{systemProperties[&#39;foo&#39;]}&quot;) String foo, Model model) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // ...&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4570" y="2655" width="400" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-124" value="&lt;font style=&quot;font-size: 9px&quot;&gt;URI 中的矩阵变量指的是 URI 路径中以分号 (;) 分隔的变量， 比如 /cars;color=red;weight=1000&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;@RequestMapping(value = &quot;/cars/{carId}&quot;)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;public String getCar(@PathVariable int carId, @MatrixVariable int color, @MatrixVariable int weight, Model model) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp; // ...&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;}&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4570" y="2740" width="490" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-125" value="&lt;div&gt;比如：&lt;br&gt;@RequestMapping(&quot;/test&quot;)&lt;/div&gt;&lt;div&gt;public void test(@RequestAttribute(&quot;myAttr&quot;) MyAttrType myAttr) { // ... }&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4570" y="2910" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-131" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-128" target="Yp-SRrxAVPVsKjN0fyP4-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-128" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;RequestParam ann = parameter.getParameterAnnotation(&lt;br&gt;&lt;b&gt;RequestParam&lt;/b&gt;.class);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3307" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-130" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return (ann != null ? new &lt;b&gt;RequestParamNamedValueInfo&lt;/b&gt;(ann) : new RequestParamNamedValueInfo());&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3389" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-132" value="像表单参数、请求行参数（ param=xxx 这种）都是通过这个处理" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3080" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-136" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-133" target="Yp-SRrxAVPVsKjN0fyP4-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-133" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object &lt;b&gt;resolvedName&lt;/b&gt; = resolveEmbeddedValuesAndExpressions(&lt;br&gt;namedValueInfo.name);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;占位符替换、SPEL替换处理，这个resolvedName是最终对应的请求参数的名字&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3459" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-139" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-135" target="Yp-SRrxAVPVsKjN0fyP4-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-135" target="Yp-SRrxAVPVsKjN0fyP4-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-135" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object arg = resolveName(resolvedName.toString(), nestedParameter, webRequest);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;获取请求参数值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3559" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-138" value="&lt;font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;String[] paramValues = request.&lt;b&gt;getParameterValues&lt;/b&gt;(name);&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;这里省略了MultipartRequest处理&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3559" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-140" target="Yp-SRrxAVPVsKjN0fyP4-142" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-140" target="Yp-SRrxAVPVsKjN0fyP4-152" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-140" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;WebDataBinder binder = binderFactory.&lt;b&gt;createBinder&lt;/b&gt;(webRequest, null, namedValueInfo.name);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3639" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-145" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-142" target="Yp-SRrxAVPVsKjN0fyP4-144" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-142" target="Yp-SRrxAVPVsKjN0fyP4-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-142" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;arg = binder.&lt;b&gt;convertIfNecessary&lt;/b&gt;(arg, parameter.getParameterType(), parameter);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3730" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-149" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-144" target="Yp-SRrxAVPVsKjN0fyP4-148" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-144" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;handleResolvedValue(arg, namedValueInfo.name, parameter, mavContainer, webRequest);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;RequestParamMethodArgumentResolver此方法是空的&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3809" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-148" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return args;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3909" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-152" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;默认创建了个 ExtendedServletRequestDataBinder&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;WebDataBinder 用于定义更加请求参数与处理器方法参数间更复杂的绑定关系&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3639" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-154" value="比如将表单请求参数绑定到模型对象的字段上，&lt;br&gt;将String类型参数转成目标对象类型&lt;br&gt;官方使用文档参考：&lt;br&gt;https://docs.spring.io/spring-framework/docs/5.3.27/reference/html/web.html#mvc-ann-initbinder" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4770" y="3644" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-160" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-155" target="Yp-SRrxAVPVsKjN0fyP4-159" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-155" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return &lt;b&gt;getTypeConverter&lt;/b&gt;()&lt;br&gt;.&lt;b&gt;convertIfNecessary&lt;/b&gt;(value, requiredType, methodParam);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;使用&lt;b&gt;SimpleTypeConverter&lt;/b&gt;将前面的arg转成requiredType&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3721" width="200" height="78" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-162" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-159" target="Yp-SRrxAVPVsKjN0fyP4-161" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-159" value="&lt;font style=&quot;font-size: 10px&quot;&gt;PropertyEditor editor = this.&lt;b&gt;propertyEditorRegistry&lt;/b&gt;&lt;br&gt;.&lt;b&gt;findCustomEditor&lt;/b&gt;(requiredType, propertyName);&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4800" y="3730" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-164" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-161" target="Yp-SRrxAVPVsKjN0fyP4-163" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-161" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ConversionService conversionService = this.&lt;b&gt;propertyEditorRegistry&lt;br&gt;&lt;/b&gt;.getConversionService();&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4800" y="3809" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-166" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-163" target="Yp-SRrxAVPVsKjN0fyP4-165" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-163" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;editor = &lt;b&gt;findDefaultEditor&lt;/b&gt;(requiredType);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4800" y="3889" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-170" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-165" target="Yp-SRrxAVPVsKjN0fyP4-167" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-165" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;convertedValue = &lt;b&gt;doConvertValue&lt;/b&gt;(oldValue, convertedValue, requiredType, editor);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4800" y="3969" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-167" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;div&gt;editor.&lt;b&gt;setValue&lt;/b&gt;(convertedValue);&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;Object newConvertedValue = editor.&lt;b&gt;getValue&lt;/b&gt;();&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5080" y="3969" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-168" value="这部分代码还挺复杂，主要是因为为了&lt;br&gt;支持各种类型的转换，有很多细节&lt;br&gt;&lt;br&gt;总之默认先查用户自定义的转换器&lt;br&gt;（PropertyEditor、ConversionService）,&lt;br&gt;如果没有自定义就使用默认的转换器，&lt;br&gt;默认注册了很多 PropertyEditor，参考&amp;nbsp;&lt;br&gt;PropertyEditorRegistrySupport#defaultEditors" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4560" y="3799" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-172" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;SimpleTypeConverter甚至&amp;nbsp;TypeConverterSupport 都不是单纯的 TypeConverter , 而是&amp;nbsp;ConversionService&amp;nbsp;&lt;br&gt;&lt;/div&gt;PropertyEditor 等转换器的集合；因为它们内部有&amp;nbsp;PropertyEditorRegistry 成员，是可以&amp;nbsp;setConversionService() 以及&amp;nbsp;&lt;br&gt;registerCustomEditor()&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="5080" y="3729" width="320" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-173" value="&lt;font style=&quot;font-size: 11px&quot;&gt;请求参数可能来自 &lt;b&gt;请求行、请求头、请求体、&lt;br&gt;Cookie、系统变量、请求属性&lt;/b&gt;等位置，&lt;br&gt;使用不同的 ArgumentResolver 解析&lt;/font&gt;&lt;br&gt;&lt;br&gt;看到这块就想起了Mybatis mapper 方法参数、&lt;br&gt;返回值 与 SQL 参数以及结果集 间的相互转换&lt;br&gt;代码也挺复杂的" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="3240" y="2990" width="240" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-177" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-174" target="Yp-SRrxAVPVsKjN0fyP4-176" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-174" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Method method = getBridgedMethod();&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;Handler类（Controller）的Method方法&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3480" y="3480" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-179" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-176" target="Yp-SRrxAVPVsKjN0fyP4-178" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-176" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return method.invoke(getBean(), args);&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;反射调用Controller方法&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3480" y="3560" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-178" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;进入业务Controller方法&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="3720" y="3560" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-180" target="Yp-SRrxAVPVsKjN0fyP4-182" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-180" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;mavContainer.setRequestHandled(false);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3000" y="3922" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-187" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-182" target="Yp-SRrxAVPVsKjN0fyP4-186" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-182" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;div&gt;this.returnValueHandlers.&lt;b&gt;handleReturnValue&lt;/b&gt;(&lt;/div&gt;&lt;div&gt;returnValue, getReturnValueType(returnValue), mavContainer, webRequest);&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="2990" y="4000" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-185" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-184" target="Yp-SRrxAVPVsKjN0fyP4-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-184" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;ReturnValueMethodParameter&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;//Handler 方法返回值类型&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Class&amp;lt;?&amp;gt; &lt;b&gt;returnValueType&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-480" y="2440" width="440" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-189" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-186" target="Yp-SRrxAVPVsKjN0fyP4-188" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-190" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-186" target="Yp-SRrxAVPVsKjN0fyP4-188" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-192" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-186" target="Yp-SRrxAVPVsKjN0fyP4-188" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-194" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;dashed=1;startArrow=none;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-214" target="Yp-SRrxAVPVsKjN0fyP4-193" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3620" y="4070" />
              <mxPoint x="3560" y="4070" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-186" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;HandlerMethodReturnValueHandler&lt;/b&gt; handler = &lt;b&gt;selectHandler&lt;/b&gt;(returnValue, returnType);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;选择合适的返回值处理器，用于将返回值写入response&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3240" y="4000" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-234" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-188" target="Yp-SRrxAVPVsKjN0fyP4-193" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-240" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-188" target="Yp-SRrxAVPVsKjN0fyP4-239" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-188" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;handler.&lt;b&gt;handleReturnValue&lt;/b&gt;(returnValue, returnType, &lt;b&gt;mavContainer&lt;/b&gt;, webRequest);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3240" y="4080" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-196" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-195" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-219" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-197" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-220" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-198" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-221" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-199" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-222" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-200" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-223" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-201" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-224" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-204" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-225" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-205" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-226" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-206" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-227" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-207" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-228" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-208" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-229" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-209" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-230" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-210" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-231" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-211" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-232" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-193" target="Yp-SRrxAVPVsKjN0fyP4-212" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-193" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;测试中加载了15种实现&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3520" y="4080" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-195" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ModelAndViewMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持ModelAndView.class返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4080" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-197" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ModelMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持Model.class返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4130" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-198" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ViewMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持View.class返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4180" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-199" value="&lt;font style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ResponseBodyEmitterReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;处理异步响应类型&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 9px&quot;&gt;&lt;span&gt;ResponseBodyEmitter.class&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4230" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-200" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;StreamingResponseBodyReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 8px&quot; color=&quot;#007fff&quot;&gt;处理异步响应类型StreamingResponseBody.class&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4280" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-201" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;HttpEntityMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;处理 HttpEntity.class &lt;br&gt;非RequestEntity.class 类型&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;返回值&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4330" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-204" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;HttpHeadersReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;处理HttpHeaders.class类型返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4380" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-205" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;CallableMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;处理&amp;nbsp;Callable.class 类型返回值，即异步请求&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4430" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-206" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;DeferredResultMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;也是处理异步请求&amp;nbsp;DeferredResult、ListenableFuture、CompletionStage类型&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4480" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-207" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;AsyncTaskMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;处理&amp;nbsp;WebAsyncTask.class类型返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4530" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-208" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ServletModelAttributeMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持 @ModelAttribute 注解或非简单类型的返回值类型&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4580" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-378" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-209" target="Yp-SRrxAVPVsKjN0fyP4-377" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-209" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;RequestResponseBodyMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;返回值类型有有注解 @ResponseBody的类型&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4629" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-236" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-210" target="Yp-SRrxAVPVsKjN0fyP4-235" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-210" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ViewNameMethodReturnValueHandler&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 9px&quot; color=&quot;#007fff&quot;&gt;支持无返回值或CharSequence.class 返回值类型，即返回String默认都是当作 ViewName&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4890" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-211" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;MapMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持&amp;nbsp;Map.class 类型返回值&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4940" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-212" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ServletModelAttributeMethodProcessor&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;前面已有此类型的MethodProcessor,&lt;br&gt;为何同一类型注册了两次？&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3640" y="4990" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-214" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;for this.returnValueHandlers:&lt;br&gt;&lt;/span&gt;handler.&lt;b&gt;supportsReturnType&lt;/b&gt;(returnType)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;遍历返回值处理器返回第一个支持returnType类型的&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3520" y="4000" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-215" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=none;endFill=1;dashed=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-186" target="Yp-SRrxAVPVsKjN0fyP4-214" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3480" y="4030" as="sourcePoint" />
            <mxPoint x="3800" y="4030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-216" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;RequestMappingHandlerAdapter&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private List&amp;lt;HandlerMethodArgumentResolver&amp;gt; customArgumentResolvers;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private HandlerMethodArgumentResolverComposite argumentResolvers;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private HandlerMethodArgumentResolverComposite initBinderArgumentResolvers;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//自定义的返回值处理器&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private List&amp;lt;HandlerMethodReturnValueHandler&amp;gt; &lt;b&gt;customReturnValueHandlers&lt;/b&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;//默认提供的返回值处理器（测试中默认加载有15个），用于将Handler返回值转化成目标返回类型&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private HandlerMethodReturnValueHandlerComposite &lt;b&gt;returnValueHandlers&lt;/b&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private List&amp;lt;ModelAndViewResolver&amp;gt; modelAndViewResolvers;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private ContentNegotiationManager contentNegotiationManager = new ContentNegotiationManager();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private List&amp;lt;HttpMessageConverter&amp;lt;?&amp;gt;&amp;gt; &lt;b&gt;messageConverters&lt;/b&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final List&amp;lt;Object&amp;gt; &lt;b&gt;requestResponseBodyAdvice&lt;/b&gt; = new ArrayList&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private WebBindingInitializer &lt;b&gt;webBindingInitializer&lt;/b&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private AsyncTaskExecutor taskExecutor = new SimpleAsyncTaskExecutor(&quot;MvcAsync&quot;);&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private Long asyncRequestTimeout;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private CallableProcessingInterceptor[] &lt;b&gt;callableInterceptors&lt;/b&gt; = new CallableProcessingInterceptor[0];&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private DeferredResultProcessingInterceptor[] &lt;b&gt;deferredResultInterceptors&lt;/b&gt; = new DeferredResultProcessingInterceptor[0];&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private ReactiveAdapterRegistry reactiveAdapterRegistry = ReactiveAdapterRegistry.getSharedInstance();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private boolean ignoreDefaultModelOnRedirect = false;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private int cacheSecondsForSessionAttributeHandlers = 0;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private boolean synchronizeOnSession = false;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private SessionAttributeStore sessionAttributeStore = new DefaultSessionAttributeStore();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private ParameterNameDiscoverer parameterNameDiscoverer = new DefaultParameterNameDiscoverer();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private ConfigurableBeanFactory beanFactory;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final Map&amp;lt;Class&amp;lt;?&amp;gt;, SessionAttributesHandler&amp;gt; sessionAttributesHandlerCache = new ConcurrentHashMap&amp;lt;&amp;gt;(64);&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final Map&amp;lt;Class&amp;lt;?&amp;gt;, Set&amp;lt;Method&amp;gt;&amp;gt; initBinderCache = new ConcurrentHashMap&amp;lt;&amp;gt;(64);&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final Map&amp;lt;ControllerAdviceBean, Set&amp;lt;Method&amp;gt;&amp;gt; initBinderAdviceCache = new LinkedHashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final Map&amp;lt;Class&amp;lt;?&amp;gt;, Set&amp;lt;Method&amp;gt;&amp;gt; modelAttributeCache = new ConcurrentHashMap&amp;lt;&amp;gt;(64);&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;private final Map&amp;lt;ControllerAdviceBean, Set&amp;lt;Method&amp;gt;&amp;gt; modelAttributeAdviceCache = new LinkedHashMap&amp;lt;&amp;gt;();&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-1240" y="1940" width="680" height="480" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-218" value="&lt;font style=&quot;font-size: 10px&quot;&gt;MethodProcessor 既是 ArgumentResolver 也是 ReturnValueHandler&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="3850" y="4130" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-238" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-235" target="Yp-SRrxAVPVsKjN0fyP4-237" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-235" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;String viewName = returnValue.toString();&lt;br&gt;&lt;/font&gt;mavContainer.&lt;b&gt;setViewName&lt;/b&gt;(viewName);&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3880" y="4880" width="240" height="59" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-237" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;div&gt;if (isRedirectViewName(viewName)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mavContainer.&lt;b&gt;setRedirectModelScenario&lt;/b&gt;(true);&lt;/div&gt;&lt;div&gt;}&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;如果返回值是&lt;b&gt;重定向路由&lt;/b&gt;（符合redirectPatterns 或&quot;redirect:&quot;开头&lt;/font&gt;）&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;arcSize=6;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="3880" y="4961" width="240" height="59" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-242" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-239" target="Yp-SRrxAVPVsKjN0fyP4-241" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-245" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-239" target="Yp-SRrxAVPVsKjN0fyP4-244" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-239" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return &lt;b&gt;getModelAndView&lt;/b&gt;(mavContainer, modelFactory, webRequest);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3240" y="5071" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-241" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;finally:&lt;br&gt;webRequest.requestCompleted();&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3240" y="5470" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-243" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;ModelAndViewContainer&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean ignoreDefaultModelOnRedirect = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;/p&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; //目标视图的实例&lt;/span&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private Object &lt;b&gt;view&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final ModelMap &lt;b&gt;defaultModel&lt;/b&gt; = new BindingAwareModelMap();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private ModelMap &lt;b&gt;redirectModel&lt;/b&gt;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean redirectModelScenario = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;&amp;nbsp; //HTTP 状态码&lt;/font&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private HttpStatus status;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Set&amp;lt;String&amp;gt; noBinding = new HashSet&amp;lt;&amp;gt;(4);&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final Set&amp;lt;String&amp;gt; bindingDisabled = new HashSet&amp;lt;&amp;gt;(4);&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private final SessionStatus sessionStatus = new SimpleSessionStatus();&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;private boolean requestHandled = false;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="-440" y="2560" width="400" height="240" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-401" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-244" target="Yp-SRrxAVPVsKjN0fyP4-400" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-244" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;modelFactory.updateModel(webRequest, mavContainer);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3520" y="5071" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-249" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-246" target="Yp-SRrxAVPVsKjN0fyP4-248" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-246" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ModelMap model = mavContainer.getModel();&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3520" y="5230" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-251" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-248" target="Yp-SRrxAVPVsKjN0fyP4-250" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-248" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;ModelAndView mav = new ModelAndView(mavContainer.getViewName(), model, mavContainer.getStatus());&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3520" y="5310" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-250" value="&lt;font&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;return mav;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3520" y="5390" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-252" value="&lt;font style=&quot;font-size: 10px&quot;&gt;return &lt;b&gt;mav&lt;/b&gt;;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;最终返回的都是ModelAndView对象&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="2060" y="2120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-257" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-254" target="Yp-SRrxAVPVsKjN0fyP4-256" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-254" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;如果有异常，执行异常处理&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="2360" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-259" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-256" target="Yp-SRrxAVPVsKjN0fyP4-258" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-261" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-256" target="Yp-SRrxAVPVsKjN0fyP4-260" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-256" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;if (mv != null &amp;amp;&amp;amp; !mv.wasCleared())&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;render&lt;/b&gt;(mv, request, response);&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;渲染ModelAndView&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1800" y="2440" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-258" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;mappedHandler.&lt;b&gt;triggerAfterCompletion&lt;/b&gt;(&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#330000&quot;&gt;request, response, null);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;依次执行拦截器链中拦截器的请求处理完成后的回调方法&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1800" y="2760" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-263" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-260" target="Yp-SRrxAVPVsKjN0fyP4-262" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-260" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;response.setLocale(locale);&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;设置国际化编码类型&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2080" y="2440" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-265" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-262" target="Yp-SRrxAVPVsKjN0fyP4-264" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2320" y="2550" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-267" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-262" target="Yp-SRrxAVPVsKjN0fyP4-266" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-262" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;if (viewName != null)&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;view&lt;/b&gt; = &lt;b&gt;resolveViewName&lt;/b&gt;(viewName, mv.getModelInternal(), locale, request);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2080" y="2520" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-264" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;InternalResourceViewResolver#&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;resolveViewName(viewName, locale&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2320" y="2520" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-269" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-266" target="Yp-SRrxAVPVsKjN0fyP4-268" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-266" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;else&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;b&gt;view&lt;/b&gt; = mv.getView();&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2080" y="2600" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-271" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-268" target="Yp-SRrxAVPVsKjN0fyP4-270" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2320" y="2710" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-268" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;view.&lt;b&gt;render&lt;/b&gt;(mv.getModelInternal(), request, response);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2080" y="2680" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-273" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-270" target="Yp-SRrxAVPVsKjN0fyP4-272" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-270" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;renderMergedOutputModel(mergedModel, getRequestToExpose(request), response);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2320" y="2680" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-272" value="&lt;font color=&quot;#330000&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;rd.forward(request, response);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="2560" y="2680" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-274" value="6 第4步调用处理方法获取到了处理结果，&lt;br&gt;处理结果可能是 View 也可能是 Model" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1310" y="2375" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-275" value="AbstractHandlerMapping" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="2315" y="1030" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-277" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=block;endFill=0;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-276" target="eXKHKXfQXdhzo-oVxrPX-149" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-276" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;font color=&quot;#330000&quot;&gt;&lt;b&gt;RequestMappingHandlerMapping&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean useSuffixPatternMatch = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean useRegisteredSuffixPatternMatch = false;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private boolean useTrailingSlashMatch = true;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private Map&amp;lt;String, Predicate&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt;&amp;gt; &lt;b&gt;pathPrefixes&lt;/b&gt; = Collections.emptyMap();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private ContentNegotiationManager contentNegotiationManager = new ContentNegotiationManager();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private StringValueResolver embeddedValueResolver;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;font color=&quot;#330000&quot; style=&quot;font-size: 11px&quot;&gt;private RequestMappingInfo.BuilderConfiguration config = new RequestMappingInfo.BuilderConfiguration();&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px ; font-size: 11px&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="-1140" y="1740" width="580" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-283" value="&lt;font color=&quot;#330000&quot; style=&quot;font-size: 9px&quot;&gt;T match = &lt;b&gt;getMatchingMapping&lt;/b&gt;(mapping, request);&lt;br&gt;matches.add(new Match(match, this.mappingRegistry.getRegistrations()&lt;br&gt;.get(mapping)));&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;arcSize=13;fontSize=10;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="3280" y="1240" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-285" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;RequestResponseBodyMethodProcessor&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;用于将请求参数转成 @RequestBody 指定的方法参数，以及将方法返回值转成 @ResponseBody 请求返回值&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="4320" y="3220" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-291" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-289" target="Yp-SRrxAVPVsKjN0fyP4-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-289" value="&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;RequestParamMethodArgumentResolver&lt;/b&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="4080" y="3304" width="200" height="66" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-295" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-292" target="Yp-SRrxAVPVsKjN0fyP4-294" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-292" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;b&gt;RequestResponseBodyMethodProcessor&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="4080" y="4040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-297" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-294" target="Yp-SRrxAVPVsKjN0fyP4-296" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-294" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;parameter = parameter.nestedIfOptional();&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4320" y="4040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-299" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-296" target="Yp-SRrxAVPVsKjN0fyP4-298" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-301" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-296" target="Yp-SRrxAVPVsKjN0fyP4-300" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-296" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object &lt;b&gt;arg&lt;/b&gt; = readWithMessageConverters(&lt;br&gt;webRequest, parameter, parameter.getNestedGenericParameterType());&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4300" y="4120" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-373" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-298" target="Yp-SRrxAVPVsKjN0fyP4-372" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-298" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;String name = Conventions&lt;br&gt;.getVariableNameForParameter(parameter);&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;默认以类名首字母小写作为name&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4310" y="4360" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-303" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-300" target="Yp-SRrxAVPVsKjN0fyP4-302" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-300" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;HttpServletRequest servletRequest = webRequest.getNativeRequest(&lt;br&gt;HttpServletRequest.class);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4600" y="4120" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-305" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-302" target="Yp-SRrxAVPVsKjN0fyP4-304" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-302" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;ServletServerHttpRequest inputMessage = new ServletServerHttpRequest(servletRequest);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4600" y="4200" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-307" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-304" target="Yp-SRrxAVPVsKjN0fyP4-306" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-304" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Object &lt;b&gt;arg&lt;/b&gt; = readWithMessageConverters(inputMessage, parameter, paramType);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4600" y="4280" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-309" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-306" target="Yp-SRrxAVPVsKjN0fyP4-308" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-306" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;span&gt;contentType = inputMessage.getHeaders().getContentType();&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;如果不传默认当作&amp;nbsp;application/octet-stream&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4280" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-311" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-308" target="Yp-SRrxAVPVsKjN0fyP4-310" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-308" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;Class&amp;lt;?&amp;gt; contextClass = parameter.getContainingClass();&lt;br&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;即Controller类&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4360" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-316" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-310" target="Yp-SRrxAVPVsKjN0fyP4-315" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-310" value="&lt;font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;HttpMethod &lt;b&gt;httpMethod&lt;/b&gt; = (inputMessage instanceof HttpRequest ? ((HttpRequest) inputMessage).getMethod() : null);&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4440" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-319" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-312" target="Yp-SRrxAVPVsKjN0fyP4-318" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-312" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;for (HttpMessageConverter&amp;lt;?&amp;gt; converter : this.&lt;b&gt;messageConverters&lt;/b&gt;) start&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4600" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-371" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-314" target="Yp-SRrxAVPVsKjN0fyP4-370" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-314" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;for end&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4809" width="240" height="31" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-317" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-315" target="Yp-SRrxAVPVsKjN0fyP4-312" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-315" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;message = new EmptyBodyCheckingHttpInputMessage(&lt;br&gt;inputMessage);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4520" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-321" value="Y" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-318" target="Yp-SRrxAVPVsKjN0fyP4-320" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="5140" y="4709" />
              <mxPoint x="5140" y="4470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-323" value="N" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-318" target="Yp-SRrxAVPVsKjN0fyP4-322" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-324" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-318" target="Yp-SRrxAVPVsKjN0fyP4-314" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-318" value="&lt;font style=&quot;font-size: 10px&quot;&gt;message.hasBody()&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5000" y="4669" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-326" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-320" target="Yp-SRrxAVPVsKjN0fyP4-325" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-320" value="&lt;div style=&quot;font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;HttpInputMessage msgToUse =&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 11px&quot;&gt;&lt;font style=&quot;font-size: 11px&quot;&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;getAdvice().&lt;b&gt;beforeBodyRead&lt;/b&gt;(message, parameter, targetType, converterType);&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5161" y="4440" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-322" value="body = getAdvice().&lt;b&gt;handleEmptyBody&lt;/b&gt;(null, message, parameter, targetType, converterType);" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="5161" y="4740" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-328" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-325" target="Yp-SRrxAVPVsKjN0fyP4-327" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-330" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-325" target="Yp-SRrxAVPVsKjN0fyP4-329" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-325" value="&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;div&gt;&lt;b&gt;body&lt;/b&gt; = (genericConverter != null ? &lt;b&gt;genericConverter&lt;/b&gt;.read(targetType, contextClass, msgToUse) :&lt;/div&gt;&lt;div&gt;((HttpMessageConverter&amp;lt;T&amp;gt;) &lt;b&gt;converter&lt;/b&gt;).read(targetClass, msgToUse));&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5161" y="4520" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-327" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;body = getAdvice().&lt;b&gt;afterBodyRead&lt;/b&gt;(body, msgToUse, parameter, targetType, converterType);&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5161" y="4600" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-332" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-331" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="5580" y="4550" />
              <mxPoint x="5580" y="4271" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-340" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-333" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-341" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-334" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-342" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-335" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-343" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-336" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-344" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-337" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-345" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-338" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-346" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-339" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-348" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-329" target="Yp-SRrxAVPVsKjN0fyP4-347" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-329" value="&lt;div style=&quot;font-size: 11px&quot;&gt;测试中加载了8种MessageConverter，但是实际有很多实现&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5400" y="4520" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-331" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;ByteArrayHttpMessageConverter&lt;/span&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px&quot; color=&quot;#007fff&quot;&gt;支持byte[].class请求数据与Java对象相互转换&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4240.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-333" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;StringHttpMessageConverter&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;支持String.class请求数据与Java对象相互转换&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4320.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-334" value="&lt;div style=&quot;font-size: 11px&quot;&gt;ResourceHttpMessageConverter&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4399.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-335" value="&lt;div style=&quot;font-size: 11px&quot;&gt;ResourceRegionHttpMessageConverter&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4479.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-336" value="&lt;div style=&quot;font-size: 11px&quot;&gt;SourceHttpMessageConverter&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4560.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-337" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;AllEncompassingForm&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;HttpMessageConverter&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;这个是MessageConverter的集合&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4640.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-338" value="&lt;div style=&quot;font-size: 11px&quot;&gt;Jaxb2RootElement&lt;br&gt;HttpMessageConverter&lt;/div&gt;&lt;div style=&quot;font-size: 11px&quot;&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;支持XML请求数据与Java对象相互转换&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4719.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-353" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-339" target="Yp-SRrxAVPVsKjN0fyP4-352" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-339" value="&lt;div style=&quot;font-size: 11px&quot;&gt;MappingJackson2&lt;br&gt;HttpMessageConverter&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;支持将JSON数据转换成Java对象，以及将Java对象转成JSON响应&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4799.5" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-347" value="&lt;div&gt;&lt;span style=&quot;font-size: 11px&quot;&gt;FormHttpMessageConverter&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;支持&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;application/x-www-form-urlencoded&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 127 , 255) ; font-size: 10px&quot;&gt;请求数据与Java对象相互转换&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="5600" y="4880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-351" value="通过 canRead() 方法判断&lt;br&gt;获取适合处理当前请求的 converter" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4655.5" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-355" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-352" target="Yp-SRrxAVPVsKjN0fyP4-354" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-352" value="&lt;div style=&quot;font-size: 11px&quot;&gt;read()&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="5840" y="4799.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-357" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-354" target="Yp-SRrxAVPVsKjN0fyP4-356" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-354" value="&lt;div style=&quot;font-size: 10px&quot;&gt;JavaType &lt;b&gt;javaType&lt;/b&gt; = getJavaType(type, contextClass);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;获取要转成的Java类型&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="6040" y="4800" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-359" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-356" target="Yp-SRrxAVPVsKjN0fyP4-358" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-367" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-356" target="Yp-SRrxAVPVsKjN0fyP4-366" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-356" value="&lt;div&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;return readJavaType(javaType, inputMessage);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;读取请求体转成目标Java类型&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="6040" y="4880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-361" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-358" target="Yp-SRrxAVPVsKjN0fyP4-360" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-358" value="&lt;font style=&quot;font-size: 10px&quot;&gt;MediaType contentType = inputMessage.getHeaders()&lt;br&gt;.getContentType();&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="6280" y="4880" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-363" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-360" target="Yp-SRrxAVPVsKjN0fyP4-362" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-360" value="&lt;font style=&quot;font-size: 9px&quot;&gt;ObjectMapper objectMapper = selectObjectMapper(javaType.getRawClass(), contentType);&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="6280" y="4962" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-365" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-362" target="Yp-SRrxAVPVsKjN0fyP4-364" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-362" value="&lt;font style=&quot;font-size: 9px&quot;&gt;InputStream inputStream = StreamUtils.nonClosing(&lt;br&gt;inputMessage.getBody());&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="6280" y="5040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-364" value="&lt;font size=&quot;1&quot;&gt;return objectMapper.readValue(inputStream, javaType);&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="6280" y="5120" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-366" value="&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;finally:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;closeStreamIfNecessary(&lt;br&gt;message.getBody());&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#007fff&quot; style=&quot;font-size: 10px&quot;&gt;关闭请求输入流&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="6040" y="4962" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-370" value="&lt;div&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;return body;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4880" y="4860" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-375" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-372" target="Yp-SRrxAVPVsKjN0fyP4-374" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-372" value="&lt;font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;WebDataBinder &lt;b&gt;binder&lt;/b&gt; = binderFactory.createBinder(webRequest, &lt;br&gt;arg, name);&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4310" y="4440" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-374" value="&lt;font&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;mavContainer.addAttribute(&lt;br&gt;BindingResult.MODEL_KEY_PREFIX + name, binder.getBindingResult());&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="4310" y="4520" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-376" value="大量的代码都在做请求参数解析（转Handler方法参数）&lt;br&gt;与Handler方法返回值转响应值上" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=11;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="2460" y="2935" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-380" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-377" target="Yp-SRrxAVPVsKjN0fyP4-379" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-377" value="&lt;font&gt;&lt;font size=&quot;1&quot;&gt;mavContainer.setRequestHandled(true);&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3880" y="4619.25" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-382" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-379" target="Yp-SRrxAVPVsKjN0fyP4-381" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-379" value="&lt;font size=&quot;1&quot;&gt;&lt;div&gt;ServletServerHttpRequest &lt;b&gt;inputMessage&lt;/b&gt; = createInputMessage(webRequest);&lt;/div&gt;&lt;div&gt;ServletServerHttpResponse &lt;b&gt;outputMessage&lt;/b&gt; = createOutputMessage(webRequest);&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="3880" y="4700.5" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-384" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-381" target="Yp-SRrxAVPVsKjN0fyP4-383" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-381" value="&lt;font size=&quot;1&quot;&gt;&lt;b&gt;writeWithMessageConverters&lt;/b&gt;(returnValue, returnType, inputMessage, outputMessage);&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="3880" y="4779.5" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-386" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-383" target="Yp-SRrxAVPVsKjN0fyP4-385" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-383" value="&lt;font size=&quot;1&quot;&gt;valueType = getReturnValueType(body, returnType);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;获取返回值类型&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4160" y="4779.5" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-388" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-385" target="Yp-SRrxAVPVsKjN0fyP4-387" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-385" value="&lt;font size=&quot;1&quot;&gt;targetType = GenericTypeResolver.resolveType(&lt;br&gt;getGenericType(returnType), returnType.getContainingClass());&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;获取带泛型类型的返回值类型&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4160" y="4859.5" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-390" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-387" target="Yp-SRrxAVPVsKjN0fyP4-389" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-387" value="&lt;font size=&quot;1&quot;&gt;&lt;div&gt;HttpServletRequest request = inputMessage.getServletRequest();&lt;/div&gt;&lt;div&gt;&lt;b&gt;acceptableTypes&lt;/b&gt; = getAcceptableMediaTypes(request);&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4160" y="4939" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-392" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-389" target="Yp-SRrxAVPVsKjN0fyP4-391" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-389" value="&lt;font size=&quot;1&quot;&gt;acceptableTypes -&amp;gt; selectedMediaType&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;如：application/json&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="4160" y="5022" width="240" height="59.5" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-394" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=8;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-391" target="Yp-SRrxAVPVsKjN0fyP4-393" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-391" value="&lt;font style=&quot;font-size: 8px&quot;&gt;&lt;div&gt;if (genericConverter != null) {&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;genericConverter.&lt;b&gt;write&lt;/b&gt;(body, targetType, selectedMediaType, outputMessage);&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;}&amp;nbsp;&lt;span&gt;else {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;((HttpMessageConverter) converter).write(body, selectedMediaType, outputMessage);&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;}&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;arcSize=4;" parent="1" vertex="1">
          <mxGeometry x="4160" y="5100" width="240" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-396" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=8;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-393" target="Yp-SRrxAVPVsKjN0fyP4-395" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-393" value="&lt;div style=&quot;font-size: 11px&quot;&gt;MappingJackson2&lt;br&gt;HttpMessageConverter#write(...)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;将Java对象转成JSON响应&lt;/font&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="4440" y="5115" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-398" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-395" target="Yp-SRrxAVPVsKjN0fyP4-397" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-395" value="&lt;div&gt;&lt;b style=&quot;font-size: 10px&quot;&gt;writeInternal&lt;/b&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;(t, type, &lt;/span&gt;&lt;b style=&quot;font-size: 10px&quot;&gt;outputMessage&lt;/b&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;font color=&quot;#007fff&quot;&gt;outputMessage就是响应对象ServletServerHttpResponse&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="4680" y="5115" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-403" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-397" target="Yp-SRrxAVPVsKjN0fyP4-400" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3780" y="5220" />
              <mxPoint x="3780" y="5180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-397" value="&lt;div style=&quot;font-size: 10px&quot;&gt;&lt;div&gt;&lt;b&gt;outputMessage&lt;/b&gt;.getBody().flush();&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="4680" y="5190" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-402" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-400" target="Yp-SRrxAVPVsKjN0fyP4-246" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-400" value="&lt;font style=&quot;font-size: 10px&quot;&gt;&lt;div&gt;if (mavContainer.isRequestHandled()) {&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; return null;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&#x9;&#x9;&lt;/span&gt;}&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;像 @ResponseBody 返回值前面已经响应了，这里就直接退出了&lt;/font&gt;&lt;/div&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;arcSize=5;" parent="1" vertex="1">
          <mxGeometry x="3520" y="5150" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-410" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-404" target="Yp-SRrxAVPVsKjN0fyP4-409" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-404" value="RequestMappingHandlerAdapter&lt;br&gt;&lt;b&gt;messageConverters &lt;/b&gt;&lt;br&gt;属性加载原理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="400" y="240" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-408" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-406" target="Yp-SRrxAVPVsKjN0fyP4-404" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-406" value="&lt;span style=&quot;font-size: 10px&quot;&gt;代码也比较复杂&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;这里只分析几个比较常用的组件的初始化&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="200" y="240" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-412" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-409" target="Yp-SRrxAVPVsKjN0fyP4-411" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-409" value="XmlWebApplicationContext#&lt;br style=&quot;font-size: 10px;&quot;&gt;loadBeanDefinitions()" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="640" y="240" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-416" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-411" target="Yp-SRrxAVPVsKjN0fyP4-415" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-411" value="XmlBeanDefinitionReader#&lt;br style=&quot;font-size: 10px;&quot;&gt;registerBeanDefinitions()" style="rounded=1;whiteSpace=wrap;html=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="880" y="240" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-421" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-413" target="Yp-SRrxAVPVsKjN0fyP4-420" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-413" value="&lt;b&gt;AnnotationDrivenBeanDefinitionParser&lt;/b&gt;&lt;br style=&quot;font-size: 10px&quot;&gt;parse(Element element, ParserContext context)&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;mvc:annotation-driven 对应此解析器&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1120" y="320" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-417" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=9;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-415" target="Yp-SRrxAVPVsKjN0fyP4-413" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-415" value="&lt;font&gt;BeanDefinitionParser parser = &lt;b&gt;findParserForElement&lt;/b&gt;(element, parserContext);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;此处xml element是&lt;br&gt;&amp;lt;mvc:&lt;b&gt;annotation-driven&lt;/b&gt; enable-matrix-variables=&quot;true&quot; /&amp;gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1120" y="240" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-423" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-420" target="Yp-SRrxAVPVsKjN0fyP4-422" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-425" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-420" target="Yp-SRrxAVPVsKjN0fyP4-424" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-420" value="ManagedList&amp;lt;?&amp;gt; &lt;b&gt;messageConverters&lt;/b&gt; = &lt;b&gt;getMessageConverters&lt;/b&gt;(element, source, context);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;这里获取的是各个MessageConverter 的Bean定义&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1400" y="320" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-422" value="handlerAdapterDef.&lt;b&gt;getPropertyValues&lt;/b&gt;()&lt;br&gt;.add(&quot;&lt;b&gt;messageConverters&lt;/b&gt;&quot;, messageConverters);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;此处 handlerAdapterDef 即　RequestMappingHandlerAdapter 的Bean定义&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1400" y="400" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-424" value="&lt;font style=&quot;font-size: 9px&quot;&gt;有几个MessageConverter是源码指定默认加载的；&lt;br&gt;还有几个是源码指定可选加载的（ClassLoader扫描类如果存在就加载否则不加载）&lt;br&gt;常用的转换器&amp;nbsp;MappingJackson2HttpMessageConverter 就是可选加载的&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1680" y="320" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-428" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=8;fontColor=#007FFF;endArrow=classic;endFill=1;" parent="1" source="Yp-SRrxAVPVsKjN0fyP4-426" target="Yp-SRrxAVPVsKjN0fyP4-424" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-426" value="&lt;div style=&quot;font-size: 8px&quot;&gt;&lt;font style=&quot;font-size: 8px&quot;&gt;jackson2Present = ClassUtils.&lt;b&gt;isPresent&lt;/b&gt;(&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;, classLoader) &amp;amp;&amp;amp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 8px&quot;&gt;&lt;font style=&quot;font-size: 8px&quot;&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ClassUtils.&lt;b&gt;isPresent&lt;/b&gt;(&quot;com.fasterxml.jackson.core.JsonGenerator&quot;, classLoader);&lt;br&gt;&lt;font color=&quot;#007fff&quot;&gt;即判断 ObjectMapper 和 JsonGenerator 类是否存在&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1640" y="220" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-430" value="最终会在初始化RequestMappingHandlerAdapter　&lt;br style=&quot;font-size: 10px&quot;&gt;单例Bean的时候，同时创建各MessageCoverter实例并初始化" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1650" y="400" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yp-SRrxAVPVsKjN0fyP4-431" value="&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;messageConverters = {ArrayList@9567}&amp;nbsp; size = 8&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;0 = {ByteArrayHttpMessageConverter@9723}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;1 = {StringHttpMessageConverter@9724}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;2 = {ResourceHttpMessageConverter@9725}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;3 = {ResourceRegionHttpMessageConverter@9726}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;4 = {SourceHttpMessageConverter@9727}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;5 = {AllEncompassingFormHttpMessageConverter@8601}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; supportedMediaTypes = {ArrayList@8675}&amp;nbsp; size = 3&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; partConverters = {ArrayList@8676}&amp;nbsp; size = 6&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;0 = {ByteArrayHttpMessageConverter@9732}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;1 = {StringHttpMessageConverter@9733}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;2 = {ResourceHttpMessageConverter@9734}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;3 = {SourceHttpMessageConverter@9735}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;4 = {Jaxb2RootElementHttpMessageConverter@9736}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; &amp;nbsp;5 = {MappingJackson2HttpMessageConverter@8600}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; charset = {UTF_8@7128} &quot;UTF-8&quot;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp; multipartCharset = null&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;6 = {Jaxb2RootElementHttpMessageConverter@9728}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9px&quot;&gt;&lt;font style=&quot;font-size: 9px&quot;&gt;&amp;nbsp;7 = {MappingJackson2HttpMessageConverter@9729}&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#007FFF;" parent="1" vertex="1">
          <mxGeometry x="1930" y="320" width="260" height="230" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
